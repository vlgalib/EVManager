import{r as Ds,a as _s,g as Ns}from"./vendor-CWc6w16D.js";import{r as w,R as Ce,P as yt,a as Nt,C as kt,T as Te,B as Ct,b as Tt,X as St,Y as Et,c as Pt,d as Ve}from"./charts-BKPbZHUn.js";import{a as Fs,t as Ws,c as zs}from"./utils-CYFKUCNl.js";import{A as bt,D as Us,W as Se,C as wt,L as Vs,E as Dt,T as qe,S as At,X as Me,a as ve,b as je,c as pe,F as ks,d as Rt,e as Fe,f as we,g as We,h as Re,i as vt,j as _t,R as Bt,k as jt,l as Cs,U as ze,m as Os,H as qs,n as $s,M as Ks,o as Hs,p as Js,B as Ys,P as Gs,q as Ft,r as Wt,s as $e,t as Xs,u as Qs}from"./icons-p1G3-6m8.js";import{r as Zs}from"./excel-B_RpDZEx.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();var Ke={exports:{}},Pe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zt;function ea(){if(zt)return Pe;zt=1;var t=Ds(),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function i(d,o,y){var k,R={},b=null,v=null;y!==void 0&&(b=""+y),o.key!==void 0&&(b=""+o.key),o.ref!==void 0&&(v=o.ref);for(k in o)n.call(o,k)&&!l.hasOwnProperty(k)&&(R[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)R[k]===void 0&&(R[k]=o[k]);return{$$typeof:s,type:d,key:b,ref:v,props:R,_owner:a.current}}return Pe.Fragment=r,Pe.jsx=i,Pe.jsxs=i,Pe}var Ut;function ta(){return Ut||(Ut=1,Ke.exports=ea()),Ke.exports}var e=ta(),Le={},Vt;function sa(){if(Vt)return Le;Vt=1;var t=_s();return Le.createRoot=t.createRoot,Le.hydrateRoot=t.hydrateRoot,Le}var aa=sa();const ra=Ns(aa);var ke={},He,Ot;function la(){return Ot||(Ot=1,He=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),He}var Je={},be={},qt;function ye(){if(qt)return be;qt=1;let t;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return be.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},be.getSymbolTotalCodewords=function(n){return s[n]},be.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},be.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');t=n},be.isKanjiModeEnabled=function(){return typeof t<"u"},be.toSJIS=function(n){return t(n)},be}var Ye={},$t;function Mt(){return $t||($t=1,function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function s(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,a){if(t.isValid(n))return n;try{return s(n)}catch{return a}}}(Ye)),Ye}var Ge,Kt;function na(){if(Kt)return Ge;Kt=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(s){const r=Math.floor(s/8);return(this.buffer[r]>>>7-s%8&1)===1},put:function(s,r){for(let n=0;n<r;n++)this.putBit((s>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(s){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),s&&(this.buffer[r]|=128>>>this.length%8),this.length++}},Ge=t,Ge}var Xe,Ht;function oa(){if(Ht)return Xe;Ht=1;function t(s){if(!s||s<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=s,this.data=new Uint8Array(s*s),this.reservedBit=new Uint8Array(s*s)}return t.prototype.set=function(s,r,n,a){const l=s*this.size+r;this.data[l]=n,a&&(this.reservedBit[l]=!0)},t.prototype.get=function(s,r){return this.data[s*this.size+r]},t.prototype.xor=function(s,r,n){this.data[s*this.size+r]^=n},t.prototype.isReserved=function(s,r){return this.reservedBit[s*this.size+r]},Xe=t,Xe}var Qe={},Jt;function ia(){return Jt||(Jt=1,function(t){const s=ye().getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,l=s(n),i=l===145?26:Math.ceil((l-13)/(2*a-2))*2,d=[l-7];for(let o=1;o<a-1;o++)d[o]=d[o-1]-i;return d.push(6),d.reverse()},t.getPositions=function(n){const a=[],l=t.getRowColCoords(n),i=l.length;for(let d=0;d<i;d++)for(let o=0;o<i;o++)d===0&&o===0||d===0&&o===i-1||d===i-1&&o===0||a.push([l[d],l[o]]);return a}}(Qe)),Qe}var Ze={},Yt;function ca(){if(Yt)return Ze;Yt=1;const t=ye().getSymbolSize,s=7;return Ze.getPositions=function(n){const a=t(n);return[[0,0],[a-s,0],[0,a-s]]},Ze}var et={},Gt;function da(){return Gt||(Gt=1,function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const s={N1:3,N2:3,N3:40,N4:10};t.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},t.from=function(a){return t.isValid(a)?parseInt(a,10):void 0},t.getPenaltyN1=function(a){const l=a.size;let i=0,d=0,o=0,y=null,k=null;for(let R=0;R<l;R++){d=o=0,y=k=null;for(let b=0;b<l;b++){let v=a.get(R,b);v===y?d++:(d>=5&&(i+=s.N1+(d-5)),y=v,d=1),v=a.get(b,R),v===k?o++:(o>=5&&(i+=s.N1+(o-5)),k=v,o=1)}d>=5&&(i+=s.N1+(d-5)),o>=5&&(i+=s.N1+(o-5))}return i},t.getPenaltyN2=function(a){const l=a.size;let i=0;for(let d=0;d<l-1;d++)for(let o=0;o<l-1;o++){const y=a.get(d,o)+a.get(d,o+1)+a.get(d+1,o)+a.get(d+1,o+1);(y===4||y===0)&&i++}return i*s.N2},t.getPenaltyN3=function(a){const l=a.size;let i=0,d=0,o=0;for(let y=0;y<l;y++){d=o=0;for(let k=0;k<l;k++)d=d<<1&2047|a.get(y,k),k>=10&&(d===1488||d===93)&&i++,o=o<<1&2047|a.get(k,y),k>=10&&(o===1488||o===93)&&i++}return i*s.N3},t.getPenaltyN4=function(a){let l=0;const i=a.data.length;for(let o=0;o<i;o++)l+=a.data[o];return Math.abs(Math.ceil(l*100/i/5)-10)*s.N4};function r(n,a,l){switch(n){case t.Patterns.PATTERN000:return(a+l)%2===0;case t.Patterns.PATTERN001:return a%2===0;case t.Patterns.PATTERN010:return l%3===0;case t.Patterns.PATTERN011:return(a+l)%3===0;case t.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(l/3))%2===0;case t.Patterns.PATTERN101:return a*l%2+a*l%3===0;case t.Patterns.PATTERN110:return(a*l%2+a*l%3)%2===0;case t.Patterns.PATTERN111:return(a*l%3+(a+l)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(a,l){const i=l.size;for(let d=0;d<i;d++)for(let o=0;o<i;o++)l.isReserved(o,d)||l.xor(o,d,r(a,o,d))},t.getBestMask=function(a,l){const i=Object.keys(t.Patterns).length;let d=0,o=1/0;for(let y=0;y<i;y++){l(y),t.applyMask(y,a);const k=t.getPenaltyN1(a)+t.getPenaltyN2(a)+t.getPenaltyN3(a)+t.getPenaltyN4(a);t.applyMask(y,a),k<o&&(o=k,d=y)}return d}}(et)),et}var De={},Xt;function Ts(){if(Xt)return De;Xt=1;const t=Mt(),s=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return De.getBlocksCount=function(a,l){switch(l){case t.L:return s[(a-1)*4+0];case t.M:return s[(a-1)*4+1];case t.Q:return s[(a-1)*4+2];case t.H:return s[(a-1)*4+3];default:return}},De.getTotalCodewordsCount=function(a,l){switch(l){case t.L:return r[(a-1)*4+0];case t.M:return r[(a-1)*4+1];case t.Q:return r[(a-1)*4+2];case t.H:return r[(a-1)*4+3];default:return}},De}var tt={},Ae={},Qt;function ha(){if(Qt)return Ae;Qt=1;const t=new Uint8Array(512),s=new Uint8Array(256);return function(){let n=1;for(let a=0;a<255;a++)t[a]=n,s[n]=a,n<<=1,n&256&&(n^=285);for(let a=255;a<512;a++)t[a]=t[a-255]}(),Ae.log=function(n){if(n<1)throw new Error("log("+n+")");return s[n]},Ae.exp=function(n){return t[n]},Ae.mul=function(n,a){return n===0||a===0?0:t[s[n]+s[a]]},Ae}var Zt;function ma(){return Zt||(Zt=1,function(t){const s=ha();t.mul=function(n,a){const l=new Uint8Array(n.length+a.length-1);for(let i=0;i<n.length;i++)for(let d=0;d<a.length;d++)l[i+d]^=s.mul(n[i],a[d]);return l},t.mod=function(n,a){let l=new Uint8Array(n);for(;l.length-a.length>=0;){const i=l[0];for(let o=0;o<a.length;o++)l[o]^=s.mul(a[o],i);let d=0;for(;d<l.length&&l[d]===0;)d++;l=l.slice(d)}return l},t.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let l=0;l<n;l++)a=t.mul(a,new Uint8Array([1,s.exp(l)]));return a}}(tt)),tt}var st,es;function ua(){if(es)return st;es=1;const t=ma();function s(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return s.prototype.initialize=function(n){this.degree=n,this.genPoly=t.generateECPolynomial(this.degree)},s.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(n.length+this.degree);a.set(n);const l=t.mod(a,this.genPoly),i=this.degree-l.length;if(i>0){const d=new Uint8Array(this.degree);return d.set(l,i),d}return l},st=s,st}var at={},rt={},lt={},ts;function Ss(){return ts||(ts=1,lt.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40}),lt}var xe={},ss;function Es(){if(ss)return xe;ss=1;const t="[0-9]+",s="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;xe.KANJI=new RegExp(r,"g"),xe.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),xe.BYTE=new RegExp(n,"g"),xe.NUMERIC=new RegExp(t,"g"),xe.ALPHANUMERIC=new RegExp(s,"g");const a=new RegExp("^"+r+"$"),l=new RegExp("^"+t+"$"),i=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return xe.testKanji=function(o){return a.test(o)},xe.testNumeric=function(o){return l.test(o)},xe.testAlphanumeric=function(o){return i.test(o)},xe}var as;function Ne(){return as||(as=1,function(t){const s=Ss(),r=Es();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(l,i){if(!l.ccBits)throw new Error("Invalid mode: "+l);if(!s.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?l.ccBits[0]:i<27?l.ccBits[1]:l.ccBits[2]},t.getBestModeForData=function(l){return r.testNumeric(l)?t.NUMERIC:r.testAlphanumeric(l)?t.ALPHANUMERIC:r.testKanji(l)?t.KANJI:t.BYTE},t.toString=function(l){if(l&&l.id)return l.id;throw new Error("Invalid mode")},t.isValid=function(l){return l&&l.bit&&l.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+a)}}t.from=function(l,i){if(t.isValid(l))return l;try{return n(l)}catch{return i}}}(rt)),rt}var rs;function xa(){return rs||(rs=1,function(t){const s=ye(),r=Ts(),n=Mt(),a=Ne(),l=Ss(),i=7973,d=s.getBCHDigit(i);function o(b,v,j){for(let m=1;m<=40;m++)if(v<=t.getCapacity(m,j,b))return m}function y(b,v){return a.getCharCountIndicator(b,v)+4}function k(b,v){let j=0;return b.forEach(function(m){const E=y(m.mode,v);j+=E+m.getBitsLength()}),j}function R(b,v){for(let j=1;j<=40;j++)if(k(b,j)<=t.getCapacity(j,v,a.MIXED))return j}t.from=function(v,j){return l.isValid(v)?parseInt(v,10):j},t.getCapacity=function(v,j,m){if(!l.isValid(v))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=a.BYTE);const E=s.getSymbolTotalCodewords(v),P=r.getTotalCodewordsCount(v,j),S=(E-P)*8;if(m===a.MIXED)return S;const _=S-y(m,v);switch(m){case a.NUMERIC:return Math.floor(_/10*3);case a.ALPHANUMERIC:return Math.floor(_/11*2);case a.KANJI:return Math.floor(_/13);case a.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(v,j){let m;const E=n.from(j,n.M);if(Array.isArray(v)){if(v.length>1)return R(v,E);if(v.length===0)return 1;m=v[0]}else m=v;return o(m.mode,m.getLength(),E)},t.getEncodedBits=function(v){if(!l.isValid(v)||v<7)throw new Error("Invalid QR Code version");let j=v<<12;for(;s.getBCHDigit(j)-d>=0;)j^=i<<s.getBCHDigit(j)-d;return v<<12|j}}(at)),at}var nt={},ls;function ga(){if(ls)return nt;ls=1;const t=ye(),s=1335,r=21522,n=t.getBCHDigit(s);return nt.getEncodedBits=function(l,i){const d=l.bit<<3|i;let o=d<<10;for(;t.getBCHDigit(o)-n>=0;)o^=s<<t.getBCHDigit(o)-n;return(d<<10|o)^r},nt}var ot={},it,ns;function pa(){if(ns)return it;ns=1;const t=Ne();function s(r){this.mode=t.NUMERIC,this.data=r.toString()}return s.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(n){let a,l,i;for(a=0;a+3<=this.data.length;a+=3)l=this.data.substr(a,3),i=parseInt(l,10),n.put(i,10);const d=this.data.length-a;d>0&&(l=this.data.substr(a),i=parseInt(l,10),n.put(i,d*3+1))},it=s,it}var ct,os;function fa(){if(os)return ct;os=1;const t=Ne(),s=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=t.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(a){return 11*Math.floor(a/2)+6*(a%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(a){let l;for(l=0;l+2<=this.data.length;l+=2){let i=s.indexOf(this.data[l])*45;i+=s.indexOf(this.data[l+1]),a.put(i,11)}this.data.length%2&&a.put(s.indexOf(this.data[l]),6)},ct=r,ct}var dt,is;function ba(){if(is)return dt;is=1;const t=Ne();function s(r){this.mode=t.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return s.getBitsLength=function(n){return n*8},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(r){for(let n=0,a=this.data.length;n<a;n++)r.put(this.data[n],8)},dt=s,dt}var ht,cs;function wa(){if(cs)return ht;cs=1;const t=Ne(),s=ye();function r(n){this.mode=t.KANJI,this.data=n}return r.getBitsLength=function(a){return a*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let a;for(a=0;a<this.data.length;a++){let l=s.toSJIS(this.data[a]);if(l>=33088&&l<=40956)l-=33088;else if(l>=57408&&l<=60351)l-=49472;else throw new Error("Invalid SJIS character: "+this.data[a]+`
Make sure your charset is UTF-8`);l=(l>>>8&255)*192+(l&255),n.put(l,13)}},ht=r,ht}var mt={exports:{}},ds;function va(){return ds||(ds=1,function(t){var s={single_source_shortest_paths:function(r,n,a){var l={},i={};i[n]=0;var d=s.PriorityQueue.make();d.push(n,0);for(var o,y,k,R,b,v,j,m,E;!d.empty();){o=d.pop(),y=o.value,R=o.cost,b=r[y]||{};for(k in b)b.hasOwnProperty(k)&&(v=b[k],j=R+v,m=i[k],E=typeof i[k]>"u",(E||m>j)&&(i[k]=j,d.push(k,j),l[k]=y))}if(typeof a<"u"&&typeof i[a]>"u"){var P=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(P)}return l},extract_shortest_path_from_predecessor_list:function(r,n){for(var a=[],l=n;l;)a.push(l),r[l],l=r[l];return a.reverse(),a},find_path:function(r,n,a){var l=s.single_source_shortest_paths(r,n,a);return s.extract_shortest_path_from_predecessor_list(l,a)},PriorityQueue:{make:function(r){var n=s.PriorityQueue,a={},l;r=r||{};for(l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);return a.queue=[],a.sorter=r.sorter||n.default_sorter,a},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var a={value:r,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=s}(mt)),mt.exports}var hs;function ja(){return hs||(hs=1,function(t){const s=Ne(),r=pa(),n=fa(),a=ba(),l=wa(),i=Es(),d=ye(),o=va();function y(P){return unescape(encodeURIComponent(P)).length}function k(P,S,_){const L=[];let q;for(;(q=P.exec(_))!==null;)L.push({data:q[0],index:q.index,mode:S,length:q[0].length});return L}function R(P){const S=k(i.NUMERIC,s.NUMERIC,P),_=k(i.ALPHANUMERIC,s.ALPHANUMERIC,P);let L,q;return d.isKanjiModeEnabled()?(L=k(i.BYTE,s.BYTE,P),q=k(i.KANJI,s.KANJI,P)):(L=k(i.BYTE_KANJI,s.BYTE,P),q=[]),S.concat(_,L,q).sort(function(U,u){return U.index-u.index}).map(function(U){return{data:U.data,mode:U.mode,length:U.length}})}function b(P,S){switch(S){case s.NUMERIC:return r.getBitsLength(P);case s.ALPHANUMERIC:return n.getBitsLength(P);case s.KANJI:return l.getBitsLength(P);case s.BYTE:return a.getBitsLength(P)}}function v(P){return P.reduce(function(S,_){const L=S.length-1>=0?S[S.length-1]:null;return L&&L.mode===_.mode?(S[S.length-1].data+=_.data,S):(S.push(_),S)},[])}function j(P){const S=[];for(let _=0;_<P.length;_++){const L=P[_];switch(L.mode){case s.NUMERIC:S.push([L,{data:L.data,mode:s.ALPHANUMERIC,length:L.length},{data:L.data,mode:s.BYTE,length:L.length}]);break;case s.ALPHANUMERIC:S.push([L,{data:L.data,mode:s.BYTE,length:L.length}]);break;case s.KANJI:S.push([L,{data:L.data,mode:s.BYTE,length:y(L.data)}]);break;case s.BYTE:S.push([{data:L.data,mode:s.BYTE,length:y(L.data)}])}}return S}function m(P,S){const _={},L={start:{}};let q=["start"];for(let N=0;N<P.length;N++){const U=P[N],u=[];for(let B=0;B<U.length;B++){const O=U[B],V=""+N+B;u.push(V),_[V]={node:O,lastCount:0},L[V]={};for(let I=0;I<q.length;I++){const F=q[I];_[F]&&_[F].node.mode===O.mode?(L[F][V]=b(_[F].lastCount+O.length,O.mode)-b(_[F].lastCount,O.mode),_[F].lastCount+=O.length):(_[F]&&(_[F].lastCount=O.length),L[F][V]=b(O.length,O.mode)+4+s.getCharCountIndicator(O.mode,S))}}q=u}for(let N=0;N<q.length;N++)L[q[N]].end=0;return{map:L,table:_}}function E(P,S){let _;const L=s.getBestModeForData(P);if(_=s.from(S,L),_!==s.BYTE&&_.bit<L.bit)throw new Error('"'+P+'" cannot be encoded with mode '+s.toString(_)+`.
 Suggested mode is: `+s.toString(L));switch(_===s.KANJI&&!d.isKanjiModeEnabled()&&(_=s.BYTE),_){case s.NUMERIC:return new r(P);case s.ALPHANUMERIC:return new n(P);case s.KANJI:return new l(P);case s.BYTE:return new a(P)}}t.fromArray=function(S){return S.reduce(function(_,L){return typeof L=="string"?_.push(E(L,null)):L.data&&_.push(E(L.data,L.mode)),_},[])},t.fromString=function(S,_){const L=R(S,d.isKanjiModeEnabled()),q=j(L),N=m(q,_),U=o.find_path(N.map,"start","end"),u=[];for(let B=1;B<U.length-1;B++)u.push(N.table[U[B]].node);return t.fromArray(v(u))},t.rawSplit=function(S){return t.fromArray(R(S,d.isKanjiModeEnabled()))}}(ot)),ot}var ms;function ya(){if(ms)return Je;ms=1;const t=ye(),s=Mt(),r=na(),n=oa(),a=ia(),l=ca(),i=da(),d=Ts(),o=ua(),y=xa(),k=ga(),R=Ne(),b=ja();function v(N,U){const u=N.size,B=l.getPositions(U);for(let O=0;O<B.length;O++){const V=B[O][0],I=B[O][1];for(let F=-1;F<=7;F++)if(!(V+F<=-1||u<=V+F))for(let A=-1;A<=7;A++)I+A<=-1||u<=I+A||(F>=0&&F<=6&&(A===0||A===6)||A>=0&&A<=6&&(F===0||F===6)||F>=2&&F<=4&&A>=2&&A<=4?N.set(V+F,I+A,!0,!0):N.set(V+F,I+A,!1,!0))}}function j(N){const U=N.size;for(let u=8;u<U-8;u++){const B=u%2===0;N.set(u,6,B,!0),N.set(6,u,B,!0)}}function m(N,U){const u=a.getPositions(U);for(let B=0;B<u.length;B++){const O=u[B][0],V=u[B][1];for(let I=-2;I<=2;I++)for(let F=-2;F<=2;F++)I===-2||I===2||F===-2||F===2||I===0&&F===0?N.set(O+I,V+F,!0,!0):N.set(O+I,V+F,!1,!0)}}function E(N,U){const u=N.size,B=y.getEncodedBits(U);let O,V,I;for(let F=0;F<18;F++)O=Math.floor(F/3),V=F%3+u-8-3,I=(B>>F&1)===1,N.set(O,V,I,!0),N.set(V,O,I,!0)}function P(N,U,u){const B=N.size,O=k.getEncodedBits(U,u);let V,I;for(V=0;V<15;V++)I=(O>>V&1)===1,V<6?N.set(V,8,I,!0):V<8?N.set(V+1,8,I,!0):N.set(B-15+V,8,I,!0),V<8?N.set(8,B-V-1,I,!0):V<9?N.set(8,15-V-1+1,I,!0):N.set(8,15-V-1,I,!0);N.set(B-8,8,1,!0)}function S(N,U){const u=N.size;let B=-1,O=u-1,V=7,I=0;for(let F=u-1;F>0;F-=2)for(F===6&&F--;;){for(let A=0;A<2;A++)if(!N.isReserved(O,F-A)){let $=!1;I<U.length&&($=(U[I]>>>V&1)===1),N.set(O,F-A,$),V--,V===-1&&(I++,V=7)}if(O+=B,O<0||u<=O){O-=B,B=-B;break}}}function _(N,U,u){const B=new r;u.forEach(function(A){B.put(A.mode.bit,4),B.put(A.getLength(),R.getCharCountIndicator(A.mode,N)),A.write(B)});const O=t.getSymbolTotalCodewords(N),V=d.getTotalCodewordsCount(N,U),I=(O-V)*8;for(B.getLengthInBits()+4<=I&&B.put(0,4);B.getLengthInBits()%8!==0;)B.putBit(0);const F=(I-B.getLengthInBits())/8;for(let A=0;A<F;A++)B.put(A%2?17:236,8);return L(B,N,U)}function L(N,U,u){const B=t.getSymbolTotalCodewords(U),O=d.getTotalCodewordsCount(U,u),V=B-O,I=d.getBlocksCount(U,u),F=B%I,A=I-F,$=Math.floor(B/I),Z=Math.floor(V/I),ie=Z+1,ee=$-Z,ce=new o(ee);let te=0;const de=new Array(I),le=new Array(I);let oe=0;const me=new Uint8Array(N.buffer);for(let C=0;C<I;C++){const M=C<A?Z:ie;de[C]=me.slice(te,te+M),le[C]=ce.encode(de[C]),te+=M,oe=Math.max(oe,M)}const se=new Uint8Array(B);let ue=0,X,Q;for(X=0;X<oe;X++)for(Q=0;Q<I;Q++)X<de[Q].length&&(se[ue++]=de[Q][X]);for(X=0;X<ee;X++)for(Q=0;Q<I;Q++)se[ue++]=le[Q][X];return se}function q(N,U,u,B){let O;if(Array.isArray(N))O=b.fromArray(N);else if(typeof N=="string"){let $=U;if(!$){const Z=b.rawSplit(N);$=y.getBestVersionForData(Z,u)}O=b.fromString(N,$||40)}else throw new Error("Invalid data");const V=y.getBestVersionForData(O,u);if(!V)throw new Error("The amount of data is too big to be stored in a QR Code");if(!U)U=V;else if(U<V)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+V+`.
`);const I=_(U,u,O),F=t.getSymbolSize(U),A=new n(F);return v(A,U),j(A),m(A,U),P(A,u,0),U>=7&&E(A,U),S(A,I),isNaN(B)&&(B=i.getBestMask(A,P.bind(null,A,u))),i.applyMask(B,A),P(A,u,B),{modules:A,version:U,errorCorrectionLevel:u,maskPattern:B,segments:O}}return Je.create=function(U,u){if(typeof U>"u"||U==="")throw new Error("No input text");let B=s.M,O,V;return typeof u<"u"&&(B=s.from(u.errorCorrectionLevel,s.M),O=y.from(u.version),V=i.from(u.maskPattern),u.toSJISFunc&&t.setToSJISFunction(u.toSJISFunc)),q(U,O,B,V)},Je}var ut={},xt={},us;function Ps(){return us||(us=1,function(t){function s(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(l){return[l,l]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,l=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:l,scale:l?4:i,margin:a,color:{dark:s(n.color.dark||"#000000ff"),light:s(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},t.getImageWidth=function(n,a){const l=t.getScale(n,a);return Math.floor((n+a.margin*2)*l)},t.qrToImageData=function(n,a,l){const i=a.modules.size,d=a.modules.data,o=t.getScale(i,l),y=Math.floor((i+l.margin*2)*o),k=l.margin*o,R=[l.color.light,l.color.dark];for(let b=0;b<y;b++)for(let v=0;v<y;v++){let j=(b*y+v)*4,m=l.color.light;if(b>=k&&v>=k&&b<y-k&&v<y-k){const E=Math.floor((b-k)/o),P=Math.floor((v-k)/o);m=R[d[E*i+P]?1:0]}n[j++]=m.r,n[j++]=m.g,n[j++]=m.b,n[j]=m.a}}}(xt)),xt}var xs;function Na(){return xs||(xs=1,function(t){const s=Ps();function r(a,l,i){a.clearRect(0,0,l.width,l.height),l.style||(l.style={}),l.height=i,l.width=i,l.style.height=i+"px",l.style.width=i+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(l,i,d){let o=d,y=i;typeof o>"u"&&(!i||!i.getContext)&&(o=i,i=void 0),i||(y=n()),o=s.getOptions(o);const k=s.getImageWidth(l.modules.size,o),R=y.getContext("2d"),b=R.createImageData(k,k);return s.qrToImageData(b.data,l,o),r(R,y,k),R.putImageData(b,0,0),y},t.renderToDataURL=function(l,i,d){let o=d;typeof o>"u"&&(!i||!i.getContext)&&(o=i,i=void 0),o||(o={});const y=t.render(l,i,o),k=o.type||"image/png",R=o.rendererOpts||{};return y.toDataURL(k,R.quality)}}(ut)),ut}var gt={},gs;function ka(){if(gs)return gt;gs=1;const t=Ps();function s(a,l){const i=a.a/255,d=l+'="'+a.hex+'"';return i<1?d+" "+l+'-opacity="'+i.toFixed(2).slice(1)+'"':d}function r(a,l,i){let d=a+l;return typeof i<"u"&&(d+=" "+i),d}function n(a,l,i){let d="",o=0,y=!1,k=0;for(let R=0;R<a.length;R++){const b=Math.floor(R%l),v=Math.floor(R/l);!b&&!y&&(y=!0),a[R]?(k++,R>0&&b>0&&a[R-1]||(d+=y?r("M",b+i,.5+v+i):r("m",o,0),o=0,y=!1),b+1<l&&a[R+1]||(d+=r("h",k),k=0)):o++}return d}return gt.render=function(l,i,d){const o=t.getOptions(i),y=l.modules.size,k=l.modules.data,R=y+o.margin*2,b=o.color.light.a?"<path "+s(o.color.light,"fill")+' d="M0 0h'+R+"v"+R+'H0z"/>':"",v="<path "+s(o.color.dark,"stroke")+' d="'+n(k,y,o.margin)+'"/>',j='viewBox="0 0 '+R+" "+R+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+j+' shape-rendering="crispEdges">'+b+v+`</svg>
`;return typeof d=="function"&&d(null,E),E},gt}var ps;function Ca(){if(ps)return ke;ps=1;const t=la(),s=ya(),r=Na(),n=ka();function a(l,i,d,o,y){const k=[].slice.call(arguments,1),R=k.length,b=typeof k[R-1]=="function";if(!b&&!t())throw new Error("Callback required as last argument");if(b){if(R<2)throw new Error("Too few arguments provided");R===2?(y=d,d=i,i=o=void 0):R===3&&(i.getContext&&typeof y>"u"?(y=o,o=void 0):(y=o,o=d,d=i,i=void 0))}else{if(R<1)throw new Error("Too few arguments provided");return R===1?(d=i,i=o=void 0):R===2&&!i.getContext&&(o=d,d=i,i=void 0),new Promise(function(v,j){try{const m=s.create(d,o);v(l(m,i,o))}catch(m){j(m)}})}try{const v=s.create(d,o);y(null,l(v,i,o))}catch(v){y(v)}}return ke.create=s.create,ke.toCanvas=a.bind(null,r.render),ke.toDataURL=a.bind(null,r.renderToDataURL),ke.toString=a.bind(null,function(l,i,d){return n.render(l,d)}),ke}var Ta=Ca();const fs=Ns(Ta),pt={},Sa=(pt==null?void 0:pt.VITE_API_URL)||"http://localhost:5000/api",K=Fs.create({baseURL:Sa,timeout:12e4,headers:{"Content-Type":"application/json"}}),J={getStatus:async()=>(await K.get("/status")).data,getWallets:async(t="id",s="desc",r,n)=>{const a=new URLSearchParams({sortBy:t,sortOrder:s});return r!==void 0&&a.append("limit",r.toString()),n!==void 0&&a.append("offset",n.toString()),(await K.get(`/wallets?${a}`)).data},getAggregated:async t=>t&&t.length>0?(await K.post("/aggregated",{wallets:t})).data:(await K.get("/aggregated")).data,getStats:async t=>(await K.post("/stats",{selectedWallets:t})).data,getDebugData:async(t,s=!1)=>(await K.post("/debug",{walletAddress:t,includeSystemInfo:s})).data,getLogs:async(t,s,r)=>(await K.post("/logs",{level:t,limit:s,walletAddress:r})).data,filterWallets:async t=>(await K.post("/wallets/filter",t)).data,filterTokens:async(t,s)=>(await K.post("/tokens/filter",{...t,wallets:s})).data,filterProtocols:async(t,s)=>(await K.post("/protocols/filter",{...t,wallets:s})).data,addWallets:async t=>(await K.post("/wallets/add",{addresses:t})).data,assignWalletTier:async(t,s)=>(await K.post("/wallets/assign-tier",{address:t,tier:s})).data,clearData:async()=>(await K.delete("/wallets")).data,deleteWallets:async t=>(await K.delete("/wallets/delete",{data:{addresses:t}})).data,clearLogs:async t=>(await K.delete("/logs",{params:{walletAddress:t}})).data,clearCache:async()=>(await K.delete("/cache")).data,exportCSV:async(t,s="csv")=>(await K.post("/export/csv",{selectedWallets:t,format:s},{responseType:"blob"})).data,toggleDebugMode:async t=>(await K.post("/debug/mode",{enabled:t})).data,getProtocolWallets:async(t,s,r,n=0,a=1e3)=>(await K.get(`/protocols/${t}/wallets`,{params:{chain:s,selectedWallets:r?JSON.stringify(r):void 0,offset:n,limit:a}})).data,getTokenWallets:async(t,s,r,n=0,a=1e3)=>(await K.get(`/tokens/${t}/wallets`,{params:{chain:s,selectedWallets:r?JSON.stringify(r):void 0,offset:n,limit:a}})).data,processWallets:async()=>(await K.post("/wallets/process")).data,refreshWallets:async t=>(await K.post("/wallets/refresh",{wallets:t})).data,getProxies:async(t,s,r)=>(await K.post("/proxies",{limit:t,offset:s,status:r})).data,checkProxies:async()=>(await K.post("/proxies/check")).data,reloadFromFiles:async()=>(await K.post("/reload")).data,deduplicateDatabase:async()=>(await K.post("/database/deduplicate")).data,security:{getStatus:async()=>(await K.get("/security/status")).data,toggle:async t=>(await K.post("/security/toggle",{enabled:t})).data,updateConfig:async t=>(await K.put("/security/config",t)).data}},p=(...t)=>Ws(zs(t)),H=(t,s="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:2,maximumFractionDigits:2}).format(t),Ea=t=>`${t>=0?"+":""}${t.toFixed(2)}%`,bs=t=>t?`${t.slice(0,6)}...${t.slice(-4)}`:"",Pa=t=>t>0?"text-green-400":t<0?"text-red-400":"text-slate-400",Aa=t=>t>0?"↗":t<0?"↘":"→",_e=t=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:6}).format(t),ws=t=>{const s=new Date(t),n=Math.floor((new Date().getTime()-s.getTime())/1e3);return n<60?`${n}s ago`:n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:`${Math.floor(n/86400)}d ago`},vs=(t,s)=>{if(!t||!s)return"";const r=s.toLowerCase(),a={eth:"https://etherscan.io/token/",arb:"https://arbiscan.io/token/",op:"https://optimistic.etherscan.io/token/",bsc:"https://bscscan.com/token/",matic:"https://polygonscan.com/token/",avax:"https://snowtrace.io/token/",ftm:"https://ftmscan.com/token/",xdai:"https://gnosisscan.io/token/",celo:"https://celoscan.io/token/",kava:"https://explorer.kava.io/token/",klay:"https://scope.klaytn.com/token/",core:"https://scan.coredao.org/token/",dfk:"https://subnets.avax.network/defi-kingdoms/token/",base:"https://basescan.org/token/",linea:"https://lineascan.build/token/",mnt:"https://explorer.mantle.xyz/token/",scrl:"https://scrollscan.com/token/",era:"https://explorer.zksync.io/token/",nova:"https://nova.arbiscan.io/token/",canto:"https://tuber.build/token/",doge:"https://explorer.dogechain.dog/token/",cfx:"https://confluxscan.io/token/",ron:"https://explorer.roninchain.com/token/",pze:"https://zkevm.polygonscan.com/token/",wemix:"https://explorer.wemix.com/token/",flr:"https://flare-explorer.flare.network/token/",oas:"https://explorer.oasys.games/token/",zora:"https://explorer.zora.energy/token/",opbnb:"https://opbnbscan.com/token/",shib:"https://shibariumscan.com/token/",mode:"https://sepolia.explorer.mode.network/token/",zeta:"https://explorer.zetachain.com/token/",rari:"https://mainnet.rarichain.org/token/",merlin:"https://scan.merlinchain.io/token/",blast:"https://blastscan.io/token/",karak:"https://explorer.karak.network/token/",frax:"https://fraxscan.com/token/",xlayer:"https://www.xlayerscan.io/token/",itze:"https://explorer.immutable.com/token/",btr:"https://www.bitlayerscan.io/token/",b2:"https://scan.b2.network/token/",bob:"https://bobscan.com/token/",reya:"https://explorer.reya.network/token/",bb:"https://scan.bouncebit.io/token/",taiko:"https://explorer.a2.taiko.xyz/token/",cyber:"https://cyberscan.co/token/",sei:"https://www.seiscan.app/token/",mint:"https://explorer.mintchain.io/token/",chiliz:"https://explorer.chiliz.com/token/",dbk:"https://explorer.dbkchain.com/token/",croze:"https://cronos.org/explorer/cronos-zkevm/token/",gravity:"https://explorer.gravitybridge.io/token/",lisk:"https://explorer.lisk.com/token/",orderly:"https://explorer.orderly.network/token/",ape:"https://explorer.apechain.com/token/",ethlink:"https://explorer.etherlink.com/token/",zircuit:"https://explorer.zircuit.com/token/",world:"https://explorer.worldcoin.org/token/",morph:"https://explorer.morphl2.io/token/",swell:"https://explorer.swellnetwork.io/token/",zero:"https://explorer.zerolabs.xyz/token/",sonic:"https://explorer.sonic.game/token/",corn:"https://explorer.cornchain.io/token/",hsk:"https://explorer.hashkey.com/token/",ink:"https://explorer.inkchain.io/token/",vana:"https://explorer.vanachain.org/token/",sophon:"https://explorer.sophon.org/token/",duck:"https://explorer.duckchain.io/token/",abs:"https://explorer.abstract.money/token/",soneium:"https://explorer.soneium.com/token/",bera:"https://artio.berachain.com/token/",uni:"https://explorer.unichain.world/token/",story:"https://explorer.story.xyz/token/",lens:"https://explorer.lens.xyz/token/",hyper:"https://explorer.hyperevm.com/token/",hemi:"https://explorer.hemi.xyz/token/",plume:"https://explorer.plume.network/token/",katana:"https://explorer.katana.xyz/token/",xrpl:"https://explorer.xrpl.org/token/"}[r];return a?`${a}${t}`:`https://debank.com/token/${r}?q=${t}`},It=[{name:"Ethereum",logo:"https://static.debank.com/image/chain/logo_url/eth/42ba589cd077e7bdd97db6480b0ff61d.png",alt:"Ethereum"},{name:"BNB Chain",logo:"https://static.debank.com/image/chain/logo_url/bsc/bc73fa84b7fc5337905e527dadcbc854.png",alt:"BNB Chain"},{name:"Gnosis Chain",logo:"https://static.debank.com/image/chain/logo_url/xdai/43c1e09e93e68c9f0f3b132976394529.png",alt:"Gnosis Chain"},{name:"Polygon",logo:"https://static.debank.com/image/chain/logo_url/matic/52ca152c08831e4765506c9bd75767e8.png",alt:"Polygon"},{name:"FTM",logo:"https://static.debank.com/image/chain/logo_url/ftm/14133435f89637157a4405e954e1b1b2.png",alt:"FTM"},{name:"Avalanche",logo:"https://static.debank.com/image/chain/logo_url/avax/4d1649e8a0c7dec9de3491b81807d402.png",alt:"Avalanche"},{name:"OP",logo:"https://static.debank.com/image/chain/logo_url/op/68bef0c9f75488f4e302805ef9c8fc84.png",alt:"OP"},{name:"ARB",logo:"https://static.debank.com/image/chain/logo_url/arb/854f629937ce94bebeb2cd38fb336de7.png",alt:"ARB"},{name:"Celo",logo:"https://static.debank.com/image/chain/logo_url/celo/faae2c36714d55db1d7a36aba5868f6a.png",alt:"Celo"},{name:"Moonriver",logo:"https://static.debank.com/image/chain/logo_url/movr/cfdc1aef482e322abd02137b0e484dba.png",alt:"Moonriver"},{name:"Cronos",logo:"https://static.debank.com/image/chain/logo_url/cro/f947000cc879ee8ffa032793808c741c.png",alt:"Cronos"},{name:"Boba",logo:"https://static.debank.com/image/chain/logo_url/boba/e43d79cd8088ceb3ea3e4a240a75728f.png",alt:"Boba"},{name:"Metis",logo:"https://static.debank.com/image/chain/logo_url/metis/7485c0a61c1e05fdf707113b6b6ac917.png",alt:"Metis"},{name:"Moonbeam",logo:"https://static.debank.com/image/chain/logo_url/mobm/fcfe3dee0e55171580545cf4d4940257.png",alt:"Moonbeam"},{name:"Fuse",logo:"https://static.debank.com/image/chain/logo_url/fuse/7a21b958761d52d04ff0ce829d1703f4.png",alt:"Fuse"},{name:"Kaia",logo:"https://static.debank.com/image/chain/logo_url/klay/4182ee077031d843a57e42746c30c072.png",alt:"Kaia"},{name:"Astar",logo:"https://static.debank.com/image/chain/logo_url/astar/398c7e0014bdada3d818367a7273fabe.png",alt:"Astar"},{name:"IoTeX",logo:"https://static.debank.com/image/chain/logo_url/iotx/d3be2cd8677f86bd9ab7d5f3701afcc9.png",alt:"IoTeX"},{name:"Rootstock",logo:"https://static.debank.com/image/chain/logo_url/rsk/ff47def89fba98394168bf5f39920c8c.png",alt:"Rootstock"},{name:"DFK",logo:"https://static.debank.com/image/chain/logo_url/dfk/233867c089c5b71be150aa56003f3f7a.png",alt:"DFK"},{name:"Telos EVM",logo:"https://static.debank.com/image/chain/logo_url/tlos/6191b8e0b261536044fc70ba746ba2c9.png",alt:"Telos EVM"},{name:"Arbitrum Nova",logo:"https://static.debank.com/image/chain/logo_url/nova/06eb2b7add8ba443d5b219c04089c326.png",alt:"Arbitrum Nova"},{name:"Canto",logo:"https://static.debank.com/image/chain/logo_url/canto/47574ef619e057d2c6bbce1caba57fb6.png",alt:"Canto"},{name:"Dogechain",logo:"https://static.debank.com/image/chain/logo_url/doge/2538141079688a7a43bc22c7b60fb45f.png",alt:"Dogechain"},{name:"Kava",logo:"https://static.debank.com/image/chain/logo_url/kava/b26bf85a1a817e409f9a3902e996dc21.png",alt:"Kava"},{name:"CFX",logo:"https://static.debank.com/image/chain/logo_url/cfx/eab0c7304c6820b48b2a8d0930459b82.png",alt:"CFX"},{name:"zkSync Era",logo:"https://static.debank.com/image/chain/logo_url/era/2cfcd0c8436b05d811b03935f6c1d7da.png",alt:"zkSync Era"},{name:"Ronin",logo:"https://static.debank.com/image/chain/logo_url/ron/6e0f509804bc83bf042ef4d674c1c5ee.png",alt:"Ronin"},{name:"Polygon zkEVM",logo:"https://static.debank.com/image/chain/logo_url/pze/a2276dce2d6a200c6148fb975f0eadd3.png",alt:"Polygon zkEVM"},{name:"CORE",logo:"https://static.debank.com/image/chain/logo_url/core/ccc02f660e5dd410b23ca3250ae7c060.png",alt:"CORE"},{name:"WEMIX",logo:"https://static.debank.com/image/chain/logo_url/wemix/d1ba88d1df6cca0b0cb359c36a09c054.png",alt:"WEMIX"},{name:"Flare",logo:"https://static.debank.com/image/chain/logo_url/flr/9ee03d5d7036ad9024e81d55596bb4dc.png",alt:"Flare"},{name:"Oasys",logo:"https://static.debank.com/image/chain/logo_url/oas/61dfecab1ba8a404354ce94b5a54d4b3.png",alt:"Oasys"},{name:"Zora",logo:"https://static.debank.com/image/chain/logo_url/zora/de39f62c4489a2359d5e1198a8e02ef1.png",alt:"Zora"},{name:"Base",logo:"https://static.debank.com/image/chain/logo_url/base/ccc1513e4f390542c4fb2f4b88ce9579.png",alt:"Base"},{name:"Linea",logo:"https://static.debank.com/image/chain/logo_url/linea/32d4ff2cf92c766ace975559c232179c.png",alt:"Linea"},{name:"Mantle",logo:"https://static.debank.com/image/chain/logo_url/mnt/0af11a52431d60ded59655c7ca7e1475.png",alt:"Mantle"},{name:"Manta Pacific",logo:"https://static.debank.com/image/chain/logo_url/manta/0e25a60b96a29d6a5b9e524be7565845.png",alt:"Manta Pacific"},{name:"Scroll",logo:"https://static.debank.com/image/chain/logo_url/scrl/1fa5c7e0bfd353ed0a97c1476c9c42d2.png",alt:"Scroll"},{name:"opBNB",logo:"https://static.debank.com/image/chain/logo_url/opbnb/07e2e686e363a842d0982493638e1285.png",alt:"opBNB"},{name:"Shibarium",logo:"https://static.debank.com/image/chain/logo_url/shib/4ec79ed9ee4988dfdfc41e1634a447be.png",alt:"Shibarium"},{name:"Mode",logo:"https://static.debank.com/image/chain/logo_url/mode/466e6e12f4fd827f8f497cceb0601a5e.png",alt:"Mode"},{name:"ZetaChain",logo:"https://static.debank.com/image/chain/logo_url/zeta/d0e1b5e519d99c452a30e83a1263d1d0.png",alt:"ZetaChain"},{name:"RARI",logo:"https://static.debank.com/image/chain/logo_url/rari/67fc6abba5cfc6bb3a57bb6afcf5afee.png",alt:"RARI"},{name:"Merlin",logo:"https://static.debank.com/image/chain/logo_url/merlin/458e4686dfb909ba871bd96fe45417a8.png",alt:"Merlin"},{name:"Blast",logo:"https://static.debank.com/image/chain/logo_url/blast/15132294afd38ce980639a381ee30149.png",alt:"Blast"},{name:"Karak",logo:"https://static.debank.com/image/chain/logo_url/karak/a9e47f00f6eeb2c9cc8f9551cff5fe68.png",alt:"Karak"},{name:"Fraxtal",logo:"https://static.debank.com/image/chain/logo_url/frax/2e210d888690ad0c424355cc8471d48d.png",alt:"Fraxtal"},{name:"X Layer",logo:"https://static.debank.com/image/chain/logo_url/xlayer/282a62903a4c74a964b704a161d1ba39.png",alt:"X Layer"},{name:"Immutable zkEVM",logo:"https://static.debank.com/image/chain/logo_url/itze/ce3a511dc511053b1b35bb48166a5d39.png",alt:"Immutable zkEVM"},{name:"Bitlayer",logo:"https://static.debank.com/image/chain/logo_url/btr/78ff16cf14dad73c168a70f7c971e401.png",alt:"Bitlayer"},{name:"B²",logo:"https://static.debank.com/image/chain/logo_url/b2/6ca6c8bc33af59c5b9273a2b7efbd236.png",alt:"B²"},{name:"BOB",logo:"https://static.debank.com/image/chain/logo_url/bob/4e0029be99877775664327213a8da60e.png",alt:"BOB"},{name:"Reya",logo:"https://static.debank.com/image/chain/logo_url/reya/20d71aad4279c33229297da1f00d8ae1.png",alt:"Reya"},{name:"BounceBit",logo:"https://static.debank.com/image/chain/logo_url/bb/da74a4980f24d870cb43ccd763e0c966.png",alt:"BounceBit"},{name:"Taiko",logo:"https://static.debank.com/image/chain/logo_url/taiko/7723fbdb38ef181cd07a8b8691671e6b.png",alt:"Taiko"},{name:"Cyber",logo:"https://static.debank.com/image/chain/logo_url/cyber/3a3c0c5da5fa8876c8c338afae0db478.png",alt:"Cyber"},{name:"SEI",logo:"https://static.debank.com/image/chain/logo_url/sei/34ddf58f678be2db5b2636b59c9828b5.png",alt:"SEI"},{name:"Mint",logo:"https://static.debank.com/image/chain/logo_url/mint/86404f93cd4e51eafcc2e244d417c03f.png",alt:"Mint"},{name:"Chiliz",logo:"https://static.debank.com/image/chain/logo_url/chiliz/548bc261b49eabea7227832374e1fcb0.png",alt:"Chiliz"},{name:"DBK Chain",logo:"https://static.debank.com/image/chain/logo_url/dbk/1255de5a9316fed901d14c069ac62f39.png",alt:"DBK Chain"},{name:"Cronos zkEVM",logo:"https://static.debank.com/image/chain/logo_url/croze/e9572bb5f00a04dd2e828dae75456abe.png",alt:"Cronos zkEVM"},{name:"Gravity",logo:"https://static.debank.com/image/chain/logo_url/gravity/fa9a1d29f671b85a653f293893fa27e3.png",alt:"Gravity"},{name:"Lisk",logo:"https://static.debank.com/image/chain/logo_url/lisk/4d4970237c52104a22e93993de3dcdd8.png",alt:"Lisk"},{name:"Orderly",logo:"https://static.debank.com/image/chain/logo_url/orderly/aedf85948240dddcf334205794d2a6c9.png",alt:"Orderly"},{name:"ApeChain",logo:"https://static.debank.com/image/chain/logo_url/ape/290d3884861ae5e09394c913f788168d.png",alt:"ApeChain"},{name:"Etherlink",logo:"https://static.debank.com/image/chain/logo_url/ethlink/76f6335793b594863f41df992dc53d22.png",alt:"Etherlink"},{name:"Zircuit",logo:"https://static.debank.com/image/chain/logo_url/zircuit/0571a12255432950da5112437058fa5b.png",alt:"Zircuit"},{name:"World Chain",logo:"https://static.debank.com/image/chain/logo_url/world/3e8c6af046f442cf453ce79a12433e2f.png",alt:"World Chain"},{name:"Morph",logo:"https://static.debank.com/image/chain/logo_url/morph/2b5255a6c3a36d4b39e1dea02aa2f097.png",alt:"Morph"},{name:"SwellChain",logo:"https://static.debank.com/image/chain/logo_url/swell/3e98b1f206af5f2c0c2cc4d271ee1070.png",alt:"SwellChain"},{name:"ZERϴ",logo:"https://static.debank.com/image/chain/logo_url/zero/d9551d98b98482204b93544f90b43985.png",alt:"ZERϴ"},{name:"Sonic",logo:"https://static.debank.com/image/chain/logo_url/sonic/8ba4d8395618ec1329ea7142b0fde642.png",alt:"Sonic"},{name:"Corn",logo:"https://static.debank.com/image/chain/logo_url/corn/2ac7405fee5fdeee5964ba0bcf2216f4.png",alt:"Corn"},{name:"HashKey",logo:"https://static.debank.com/image/chain/logo_url/hsk/3f35eb1691403fe4eae7a1d1c45b704c.png",alt:"HashKey"},{name:"Ink",logo:"https://static.debank.com/image/chain/logo_url/ink/af5b553a5675342e28bdb794328e8727.png",alt:"Ink"},{name:"Vana",logo:"https://static.debank.com/image/chain/logo_url/vana/b2827795c1556eeeaeb58cb3411d0b15.png",alt:"Vana"},{name:"Sophon",logo:"https://static.debank.com/image/chain/logo_url/sophon/edc0479e5fc884b240959449ef44a386.png",alt:"Sophon"},{name:"DuckChain",logo:"https://static.debank.com/image/chain/logo_url/duck/b0b13c10586f03bcfc12358c48a22c95.png",alt:"DuckChain"},{name:"Abstract",logo:"https://static.debank.com/image/chain/logo_url/abs/c59200aadc06c79d7c061cfedca85c38.png",alt:"Abstract"},{name:"Soneium",logo:"https://static.debank.com/image/chain/logo_url/soneium/35014ebaa414b336a105ff2115ba2116.png",alt:"Soneium"},{name:"Berachain",logo:"https://static.debank.com/image/chain/logo_url/bera/89db55160bb8bbb19464cabf17e465bc.png",alt:"Berachain"},{name:"Unichain",logo:"https://static.debank.com/image/chain/logo_url/uni/7e9011cb7bd0d19deb7727280aa5c8b1.png",alt:"Unichain"},{name:"Story",logo:"https://static.debank.com/image/chain/logo_url/story/d2311c0952f9801e0d42e3b87b4bd755.png",alt:"Story"},{name:"Lens",logo:"https://static.debank.com/image/chain/logo_url/lens/d41e14ba300d526518fb8ad20714685b.png",alt:"Lens"},{name:"HyperEVM",logo:"https://static.debank.com/image/chain/logo_url/hyper/0b3e288cfe418e9ce69eef4c96374583.png",alt:"HyperEVM"},{name:"Hemi",logo:"https://static.debank.com/image/chain/logo_url/hemi/db2e74d52c77b941d01f9beae0767ab6.png",alt:"Hemi"},{name:"Plume",logo:"https://static.debank.com/image/chain/logo_url/plume/f74d0d202dd8af7baf6940864ee79006.png",alt:"Plume"},{name:"Katana",logo:"https://static.debank.com/image/chain/logo_url/katana/0202d6aecd963a9c0b2afb56c4d731b5.png",alt:"Katana"},{name:"XRPL EVM",logo:"https://static.debank.com/image/chain/logo_url/xrpl/131298e77672be4a16611a103fa39366.png",alt:"XRPL EVM"}],ge=t=>{if(!t)return;const r=Lt[t.toLowerCase()]||t,n=It.find(a=>a.name.toLowerCase()===r.toLowerCase());return n==null?void 0:n.logo},Be=t=>{if(!t)return;const r=Lt[t.toLowerCase()]||t;return It.find(n=>n.name.toLowerCase()===r.toLowerCase())},Lt={eth:"Ethereum",arb:"ARB",op:"OP",ftm:"FTM",cfx:"CFX",sei:"SEI",world:"World Chain",base:"Base",ink:"Ink",bsc:"BNB Chain",matic:"Polygon",avax:"Avalanche",celo:"Celo",movr:"Moonriver",cro:"Cronos",boba:"Boba",metis:"Metis",mobm:"Moonbeam",fuse:"Fuse",klay:"Kaia",astar:"Astar",iotx:"IoTeX",rsk:"Rootstock",dfk:"DFK",tlos:"Telos EVM",nova:"Arbitrum Nova",canto:"Canto",doge:"Dogechain",kava:"Kava",era:"zkSync Era",ron:"Ronin",pze:"Polygon zkEVM",core:"CORE",wemix:"WEMIX",flr:"Flare",oas:"Oasys",zora:"Zora",linea:"Linea",mnt:"Mantle",manta:"Manta Pacific",scrl:"Scroll",opbnb:"opBNB",shib:"Shibarium",mode:"Mode",zeta:"ZetaChain",rari:"RARI",merlin:"Merlin",blast:"Blast",karak:"Karak",frax:"Fraxtal",xlayer:"X Layer",itze:"Immutable zkEVM",btr:"Bitlayer",b2:"B²",bob:"BOB",reya:"Reya",bb:"BounceBit",taiko:"Taiko",cyber:"Cyber",mint:"Mint",chiliz:"Chiliz",dbk:"DBK Chain",croze:"Cronos zkEVM",gravity:"Gravity",lisk:"Lisk",orderly:"Orderly",ape:"ApeChain",ethlink:"Etherlink",zircuit:"Zircuit",morph:"Morph",swell:"SwellChain",zero:"ZERϴ",sonic:"Sonic",corn:"Corn",hsk:"HashKey",vana:"Vana",sophon:"Sophon",duck:"DuckChain",abs:"Abstract",soneium:"Soneium",bera:"Berachain",uni:"Unichain",story:"Story",lens:"Lens",hyper:"HyperEVM",hemi:"Hemi",plume:"Plume",katana:"Katana",xrpl:"XRPL EVM",xdai:"Gnosis Chain"},Y=t=>{if(!t)return"";const s=Lt[t.toLowerCase()];if(s)return s;const r=It.find(n=>n.name.toLowerCase()===t.toLowerCase());return r?r.name:t},ae=({src:t,alt:s,size:r="md",className:n=""})=>{const[a,l]=w.useState(!1),i={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"},d={sm:"text-xs",md:"text-sm",lg:"text-lg"};if(!t||t===""||t==="undefined"||t==="null"||a){const o=s.split(" ").map(y=>y.charAt(0)).join("").toUpperCase().slice(0,2);return e.jsx("div",{className:`${i[r]} bg-slate-700 rounded-lg flex items-center justify-center ${n}`,title:s,children:e.jsx("span",{className:`font-medium text-slate-300 ${d[r]}`,children:o})})}return e.jsx("img",{src:t,alt:s,className:`${i[r]} rounded-lg object-cover ${n}`,onError:()=>l(!0),title:s,loading:"lazy"})},As=w.createContext(void 0),Ra=({children:t})=>{const[s,r]=w.useState(new Set),[n,a]=w.useState(new Set);w.useEffect(()=>{const m=localStorage.getItem("selectedWallets");if(m)try{const E=JSON.parse(m),P=new Set(E);r(P),a(P)}catch(E){console.error("Error parsing saved wallets:",E)}},[]);const j={selectedWallets:s,tempSelectedWallets:n,setSelectedWallets:m=>{r(m),a(m)},toggleWallet:m=>{const E=new Set(n);E.has(m)?E.delete(m):E.add(m),a(E)},selectAll:m=>{a(new Set(m))},deselectAll:()=>{a(new Set)},clearSelection:()=>{const m=new Set;r(m),a(m),localStorage.setItem("selectedWallets",JSON.stringify([]))},isWalletSelected:m=>n.has(m),saveChanges:()=>{const m=new Set(n);r(m),localStorage.setItem("selectedWallets",JSON.stringify(Array.from(m)))},discardChanges:()=>{a(s)},hasUnsavedChanges:(()=>{if(s.size!==n.size)return!0;for(const m of Array.from(s))if(!n.has(m))return!0;return!1})()};return e.jsx(As.Provider,{value:j,children:t})},Ee=()=>{const t=w.useContext(As);if(!t)throw new Error("useWalletSelection must be used within a WalletSelectionProvider");return t},Rs=w.createContext(void 0),Ba={en:{"header.title":"EVManager","header.online":"Online","header.offline":"Offline","header.loading":"Loading EVManager...","header.assignTiers":"Assign Tiers","header.autoRefresh":"Auto Refresh","header.autoRefreshEnabled":"Auto refresh enabled (1 wallet per minute, older than 24 hours)","header.autoRefreshDisabled":"Enable auto refresh for wallets","header.telegram":"Telegram","header.telegramTitle":"Author's Telegram channel","header.donate":"Donate","header.donateTitle":"Support the author","header.checkProxies":"Check Proxies","header.refresh":"Refresh","header.loadNew":"Load New","nav.overview":"Overview","nav.wallets":"Wallets","nav.tokens":"Tokens","nav.protocols":"Protocols","nav.proxiesCheck":"Proxies (check)","overview.totalValue":"Total Value","overview.wallets":"Wallets","overview.activeAddresses":"active addresses","overview.topToken":"Top Token","overview.topChain":"Top Chain","overview.chainDistribution":"Chain Distribution","overview.topTokens":"Top Tokens","overview.topProtocols":"Top Protocols","overview.protocol":"Protocol","overview.chain":"Chain","overview.category":"Category","overview.value":"Value","overview.aggregated":"Aggregated","tokens.ofTopTen":"of top-10","tokens.aggregatedAcrossNetworks":"Aggregated across all networks","overview.for24h":"for 24h","wallets.title":"Wallets","wallets.selected":"Selected","wallets.total":"Total wallets","wallets.page":"Page","wallets.of":"of","wallets.id":"ID","wallets.address":"Address","wallets.balance":"Balance","wallets.chains":"Chains","wallets.tokens":"Tokens","wallets.protocols":"Protocols","wallets.inProtocols":"In Protocols","wallets.updated":"Updated","wallets.actions":"Actions","wallets.copyAddress":"Copy address","wallets.openInDeBank":"Open in DeBank","wallets.includeInCalculations":"Include in calculations","wallets.deselectAll":"Deselect all wallets","wallets.selectAllVisible":"Select all visible","wallets.deselectAllVisible":"Deselect all visible","wallets.searchPlaceholder":"Search by address or ID...","wallets.hideUnder":"Don't show < $0.5","wallets.all":"All","wallets.tier1":"Tier 1","wallets.tier2":"Tier 2","wallets.tier3":"Tier 3","wallets.noTier":"No tier","wallets.addToTier":"To Tier ▾","wallets.addToTier1":"Add to Tier 1","wallets.addToTier2":"Add to Tier 2","wallets.addToTier3":"Add to Tier 3","wallets.removeFromTier":"Remove from Tier","wallets.noWalletsFound":"No wallets found","wallets.noWalletsDescription":"No available wallets to display","wallets.perPage":"per page","wallets.first":"First","wallets.previous":"Previous","wallets.next":"Next","wallets.last":"Last","wallets.showing":"Showing","tokens.title":"Tokens","tokens.chainDistribution":"Token Distribution by Chains","tokens.topTokensByValue":"Top Tokens by Value","tokens.token":"Token","tokens.chain":"Chain","tokens.balance":"Balance","tokens.symbol":"Symbol","tokens.price":"Price","tokens.value":"Value","tokens.groups":"groups","tokens.showing":"Showing","tokens.groupsOf":"groups of","tokens.tokensTotal":"tokens","tokens.walletsWithToken":"Wallets with this token:","protocols.title":"Protocols","protocols.topProtocolsByValue":"Top Protocols by Value","protocols.protocolDistribution":"Protocol Distribution","protocols.protocol":"Protocol","protocols.chain":"Chain","protocols.category":"Category","protocols.value":"Value","protocols.actions":"Actions","protocols.showing":"Showing","protocols.of":"of","protocols.walletsWithFunds":"Wallets with funds in protocol:","proxies.title":"Proxies","proxies.status":"Status","proxies.url":"URL","proxies.responseTime":"Response Time","proxies.lastCheck":"Last Check","proxies.working":"Working","proxies.failed":"Failed","proxies.checking":"Checking","proxies.total":"Total","proxies.checkAll":"Check All","proxies.ms":"ms","proxies.protocol":"Protocol","proxies.address":"Address","proxies.port":"Port","proxies.error":"Error","proxies.successRate":"Success Rate","proxies.country":"Country","proxies.notFound":"No proxies found","proxies.addToFile":"Add proxies to proxy.txt file","tiers.title":"Assign Tiers","tiers.description":"Specify wallet ID ranges for each tier. Wallets outside these ranges will be unassigned.","tiers.tier1":"Tier 1","tiers.tier2":"Tier 2","tiers.tier3":"Tier 3","tiers.from":"From","tiers.to":"To","tiers.cancel":"Cancel","tiers.apply":"Apply Tiers","tiers.applying":"Applying...","tiers.validationFromTo":"Start ID cannot be greater than end ID","tiers.validationOverlap":"Ranges {tier1} and {tier2} overlap","tiers.errorAssigning":"Error assigning tiers","tiers.successMessage":"Tiers successfully assigned! Updated wallets: {count}","donate.title":"Support the Project","donate.description":"If EVManager has been useful, support the development!","donate.walletAddress":"Wallet address:","donate.copyAddress":"Copy address","donate.qrCode":"QR code for donations","donate.thankYou":"Thank you for your support! ❤️","notification.autoRefreshEnabled":"Auto refresh enabled","notification.autoRefreshDisabled":"Auto refresh disabled","notification.autoRefreshWallet":"Auto refresh: updated wallet","notification.addressCopied":"Address copied!","notification.noWalletsSelected":"No wallets selected for refresh","notification.serverBusy":"Server is already processing wallets. Please wait and try again.","notification.refreshStarted":"Started processing {count} wallets. Track progress in the status bar in real time.","notification.refreshError":"Error refreshing wallets: {error}","notification.proxyError":"Proxy check error: {error}","notification.filesReloaded":"Files reloaded. Proxies and wallets updated","notification.filesReloadedNoWallets":"Files reloaded. No wallets found in data/wallets.txt","notification.proxyNotResponding":"Proxy not responding","notification.tiersUpdated":"Tiers updated for {count} wallets","refresh.updating":"Updating...","refresh.busy":"Busy...","refresh.update":"Update","refresh.selectWallets":"Select wallets to refresh","refresh.serverBusy":"Server is busy processing","refresh.updateSelected":"Update {count} selected wallets","loadNew.loading":"Loading...","loadNew.loadNew":"Load New","loadNew.title":"Reload wallets.txt and proxy.txt","status.connectionError":"Server connection error","status.loadingError":"Failed to load data","status.walletsLoadError":"Error loading wallets","theme.switchToLight":"Switch to light theme","theme.switchToDark":"Switch to dark theme","time.ago":"ago","time.seconds":"s","time.minutes":"m","time.hours":"h","time.days":"d","common.wallets":"wallets","common.loading":"Loading...","common.error":"Error","common.noData":"No data available","common.showMore":"Show more","common.viewDetails":"View details","common.cancel":"Cancel","common.save":"Save","filters.filters":"Filters","filters.export":"Export","filters.searchTokens":"Search tokens...","filters.searchProtocols":"Search protocols...","filters.valueRange":"Value Range","filters.from":"From","filters.to":"To","filters.chain":"Chain","filters.allChains":"All chains","filters.token":"Token","filters.allTokens":"All tokens","filters.protocol":"Protocol","filters.allProtocols":"All protocols","filters.reset":"Reset Filters","debug.title":"Debug Panel","debug.loadData":"Load Data","debug.restartProcessing":"Restart Processing","debug.processing":"Processing...","debug.debugEnabled":"Debug On","debug.debugDisabled":"Debug Off","debug.clearLogs":"Clear Logs","debug.totalLogs":"Total Logs","debug.debugData":"Debug Data","debug.debugMode":"Debug Mode","debug.enabled":"Enabled","debug.disabled":"Disabled","debug.logs":"Logs","debug.debugging":"Debugging","debug.logoTest":"Logo Test","debug.systemLogs":"System Logs","debug.allLevels":"All Levels","debug.errors":"Errors","debug.warnings":"Warnings","debug.info":"Info","debug.update":"Update","debug.wallet":"Wallet","debug.data":"Data","debug.debugDataTitle":"Debug Data","debug.walletPlaceholder":"Wallet address (optional)","debug.steps":"steps","debug.processingSteps":"Processing Steps","debug.networkRequests":"Network Requests","debug.rawData":"Raw Data","debug.processedData":"Processed Data","debug.logoTestRemoved":"Logo test component was removed to clean up code.","status.proxies":"Proxies","status.debug":"Debug","status.wallets":"wallets","status.processed":"processed","status.processing":"Processing","status.idle":"Idle","status.errors":"errors","status.database":"DB","status.mb":"MB","status.connectionError":"Connection error. Backend server is not available.","errors.proxyCheck":"Proxy check error: ","errors.unknown":"Unknown error"},ru:{"header.title":"EVManager","header.online":"Онлайн","header.offline":"Оффлайн","header.loading":"Загрузка EVManager...","header.assignTiers":"Назначить тиры","header.autoRefresh":"Авто обновление","header.autoRefreshEnabled":"Автообновление включено (1 кошелек в минуту, старше 24 часов)","header.autoRefreshDisabled":"Включить автообновление кошельков","header.telegram":"Telegram","header.telegramTitle":"Telegram канал автора","header.donate":"Donate","header.donateTitle":"Поддержать автора","header.checkProxies":"Проверка прокси","header.refresh":"Обновить","header.loadNew":"Загрузить новое","nav.overview":"Обзор","nav.wallets":"Кошельки","nav.tokens":"Токены","nav.protocols":"Протоколы","nav.proxiesCheck":"Прокси (проверка)","overview.totalValue":"Общая стоимость","overview.wallets":"Кошельков","overview.activeAddresses":"активных адресов","overview.topToken":"Топ токен","overview.topChain":"Топ цепочка","overview.chainDistribution":"Распределение по цепочкам","overview.topTokens":"Топ токены","overview.topProtocols":"Топ протоколы","overview.protocol":"Протокол","overview.chain":"Цепочка","overview.category":"Категория","overview.value":"Стоимость","overview.aggregated":"Агрегировано","tokens.ofTopTen":"от топ-10","tokens.aggregatedAcrossNetworks":"Агрегированно по всем сетям","overview.for24h":"за 24ч","wallets.title":"Кошельки","wallets.selected":"Выбрано","wallets.total":"Всего кошельков","wallets.page":"Страница","wallets.of":"из","wallets.id":"ID","wallets.address":"Адрес","wallets.balance":"Баланс","wallets.chains":"Цепочки","wallets.tokens":"Токены","wallets.protocols":"Протоколы","wallets.inProtocols":"В протоколах","wallets.updated":"Обновлено","wallets.actions":"Действия","wallets.copyAddress":"Копировать адрес","wallets.openInDeBank":"Открыть в DeBank","wallets.includeInCalculations":"Включить в расчеты","wallets.deselectAll":"Снять выделение со всех кошельков","wallets.selectAllVisible":"Выбрать все отображаемые","wallets.deselectAllVisible":"Снять выделение со всех отображаемых","wallets.searchPlaceholder":"Поиск по адресу или ID...","wallets.hideUnder":"Не показывать < $0.5","wallets.all":"Все","wallets.tier1":"Tier 1","wallets.tier2":"Tier 2","wallets.tier3":"Tier 3","wallets.noTier":"Без тира","wallets.addToTier":"В Tier ▾","wallets.addToTier1":"Добавить в Tier 1","wallets.addToTier2":"Добавить в Tier 2","wallets.addToTier3":"Добавить в Tier 3","wallets.removeFromTier":"Удалить из Tier","wallets.noWalletsFound":"Кошельки не найдены","wallets.noWalletsDescription":"Нет доступных кошельков для отображения","wallets.perPage":"на странице","wallets.first":"Первая","wallets.previous":"Назад","wallets.next":"Вперед","wallets.last":"Последняя","wallets.showing":"Показано","tokens.title":"Токены","tokens.chainDistribution":"Распределение токенов по цепочкам","tokens.topTokensByValue":"Топ токены по стоимости","tokens.token":"Токен","tokens.chain":"Цепочка","tokens.balance":"Баланс","tokens.symbol":"Символ","tokens.price":"Цена","tokens.value":"Стоимость","tokens.groups":"групп","tokens.showing":"Показано","tokens.groupsOf":"групп из","tokens.tokensTotal":"токенов","tokens.walletsWithToken":"Кошельки с этим токеном:","protocols.title":"Протоколы","protocols.topProtocolsByValue":"Топ протоколы по стоимости","protocols.protocolDistribution":"Распределение по протоколам","protocols.protocol":"Протокол","protocols.chain":"Цепочка","protocols.category":"Категория","protocols.value":"Стоимость","protocols.actions":"Действия","protocols.showing":"Показано","protocols.of":"из","protocols.walletsWithFunds":"Кошельки с средствами в протоколе:","proxies.title":"Прокси","proxies.status":"Статус","proxies.url":"URL","proxies.responseTime":"Время отклика","proxies.lastCheck":"Последняя проверка","proxies.working":"Работает","proxies.failed":"Не работает","proxies.checking":"Проверка","proxies.total":"Всего","proxies.checkAll":"Проверить все","proxies.ms":"мс","proxies.protocol":"Протокол","proxies.address":"Адрес","proxies.port":"Порт","proxies.error":"Ошибка","proxies.successRate":"Успешность","proxies.country":"Страна","proxies.notFound":"Прокси не найдены","proxies.addToFile":"Добавьте прокси в файл proxy.txt","tiers.title":"Назначить тиры","tiers.description":"Назначьте кошельки в тиры для лучшей организации","tiers.tier1":"Tier 1","tiers.tier2":"Tier 2","tiers.tier3":"Tier 3","tiers.unassigned":"Без тира","tiers.assign":"Назначить","tiers.remove":"Удалить","tiers.close":"Закрыть","tiers.cancel":"Отменить","tiers.apply":"Применить тиры","tiers.selectWallets":"Выберите кошельки для назначения","tiers.noWallets":"Нет выбранных кошельков","donate.title":"Поддержать проект","donate.description":"Если EVManager оказался полезен, поддержите разработку!","donate.walletAddress":"Адрес кошелька:","donate.copyAddress":"Копировать адрес","donate.qrCode":"QR код для донатов","donate.thankYou":"Спасибо за поддержку! ❤️","notification.autoRefreshEnabled":"Автообновление включено","notification.autoRefreshDisabled":"Автообновление выключено","notification.autoRefreshWallet":"Автообновление: обновлен кошелек","notification.addressCopied":"Адрес скопирован!","notification.noWalletsSelected":"Не выбраны кошельки для обновления","notification.serverBusy":"Сервер уже обрабатывает кошельки. Дождитесь завершения и попробуйте снова.","notification.refreshStarted":"Запущена обработка {count} кошельков. Отслеживайте прогресс в статусной строке в реальном времени.","notification.refreshError":"Ошибка при обновлении кошельков: {error}","notification.proxyError":"Ошибка проверки прокси: {error}","notification.filesReloaded":"Файлы перечитаны. Прокси и кошельки обновлены","notification.filesReloadedNoWallets":"Файлы перечитаны. Кошельков не найдено в data/wallets.txt","notification.proxyNotResponding":"Прокси не отвечает","notification.tiersUpdated":"Тиры обновлены для {count} кошельков","refresh.updating":"Обновление...","refresh.busy":"Занято...","refresh.update":"Обновить","refresh.selectWallets":"Выберите кошельки для обновления","refresh.serverBusy":"Сервер занят обработкой","refresh.updateSelected":"Обновить {count} выбранных кошельков","loadNew.loading":"Загрузка...","loadNew.loadNew":"Загрузить новое","loadNew.title":"Перечитать wallets.txt и proxy.txt","status.connectionError":"Ошибка подключения к серверу","status.loadingError":"Не удалось загрузить данные","status.walletsLoadError":"Ошибка загрузки кошельков","theme.switchToLight":"Переключить на светлую тему","theme.switchToDark":"Переключить на тёмную тему","time.ago":"назад","time.seconds":"с","time.minutes":"м","time.hours":"ч","time.days":"д","common.wallets":"кошельков","common.loading":"Загрузка...","common.error":"Ошибка","common.noData":"Нет данных","common.showMore":"Показать больше","common.viewDetails":"Подробнее","common.cancel":"Отменить","common.save":"Сохранить","filters.filters":"Фильтры","filters.export":"Экспорт","filters.searchTokens":"Поиск токенов...","filters.searchProtocols":"Поиск протоколов...","filters.valueRange":"Диапазон стоимости","filters.from":"От","filters.to":"До","filters.chain":"Цепочка","filters.allChains":"Все цепочки","filters.token":"Токен","filters.allTokens":"Все токены","filters.protocol":"Протокол","filters.allProtocols":"Все протоколы","filters.reset":"Сбросить фильтры","debug.title":"Панель отладки","debug.loadData":"Загрузить данные","debug.restartProcessing":"Перезапустить обработку","debug.processing":"Обработка...","debug.debugEnabled":"Отладка включена","debug.debugDisabled":"Отладка отключена","debug.clearLogs":"Очистить логи","debug.totalLogs":"Всего логов","debug.debugData":"Данные отладки","debug.debugMode":"Режим отладки","debug.enabled":"Включено","debug.disabled":"Отключено","debug.logs":"Логи","debug.debugging":"Отладка","debug.logoTest":"Тест логотипа","debug.systemLogs":"Системные логи","debug.allLevels":"Все уровни","debug.errors":"Ошибки","debug.warnings":"Предупреждения","debug.info":"Информация","debug.update":"Обновить","debug.wallet":"Кошелек","debug.data":"Данные","debug.debugDataTitle":"Данные отладки","debug.walletPlaceholder":"Адрес кошелька (необязательно)","debug.steps":"шагов","debug.processingSteps":"Шаги обработки","debug.networkRequests":"Сетевые запросы","debug.rawData":"Сырые данные","debug.processedData":"Обработанные данные","debug.logoTestRemoved":"Компонент тестирования логотипа был удален для очистки кода.","status.proxies":"Прокси","status.debug":"Отладка","status.wallets":"кошельков","status.processed":"обработано","status.processing":"Обработка","status.idle":"Ожидание","status.errors":"ошибок","status.database":"БД","status.mb":"МБ","status.connectionError":"Ошибка подключения. Сервер не доступен.","errors.proxyCheck":"Ошибка проверки прокси: ","errors.unknown":"Неизвестная ошибка"}},Ma=({children:t})=>{const[s,r]=w.useState(()=>{const i=localStorage.getItem("language");return i==="en"||i==="ru"?i:"ru"}),l={language:s,setLanguage:i=>{r(i),localStorage.setItem("language",i)},t:(i,d)=>{const o=Ba[s][i];return o?d?Object.entries(d).reduce((y,[k,R])=>y.replace(`{${k}}`,R),o):o:i}};return e.jsx(Rs.Provider,{value:l,children:t})},he=()=>{const t=w.useContext(Rs);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},Bs=w.createContext(void 0),Ia=({children:t})=>{const[s,r]=w.useState("dark");w.useEffect(()=>{const i=localStorage.getItem("theme");i&&(i==="light"||i==="dark")&&r(i)},[]),w.useEffect(()=>{const i=document.documentElement;s==="dark"?(i.classList.add("dark"),i.classList.remove("light")):(i.classList.add("light"),i.classList.remove("dark")),localStorage.setItem("theme",s)},[s]);const l={theme:s,toggleTheme:()=>{r(i=>i==="light"?"dark":"light")},setTheme:i=>{r(i)}};return e.jsx(Bs.Provider,{value:l,children:t})},fe=()=>{const t=w.useContext(Bs);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},ft=()=>{var R,b,v,j;const{theme:t}=fe(),[s,r]=w.useState(null),[n,a]=w.useState(!0),[l,i]=w.useState(null),{selectedWallets:d}=Ee(),{t:o}=he();if(w.useEffect(()=>{const m=async()=>{try{const P=Array.from(d),S=await J.getAggregated(P);r(S),i(null)}catch(P){i(o("status.loadingError")),console.error("Error fetching aggregated data:",P)}finally{a(!1)}};m();const E=setInterval(m,5e3);return()=>clearInterval(E)},[d]),n)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((m,E)=>e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("div",{className:"h-4 bg-slate-700 rounded mb-4"}),e.jsx("div",{className:"h-8 bg-slate-700 rounded"})]},E))})})});if(l||!s)return e.jsx("div",{className:"bg-slate-800 rounded-xl p-8 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(bt,{className:"w-8 h-8 text-red-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:o("status.loadingError")}),e.jsx("p",{className:"text-slate-400",children:l||o("common.noData")})]})});const y=s.topChains.map((m,E)=>({name:Y(m.name),chainName:m.name,value:m.value,percentage:m.value/s.totalValue*100,color:["#3B82F6","#8B5CF6","#EF4444","#F59E0B","#10B981"][E%5]})),k=s.topTokens.slice(0,10).map((m,E)=>({name:m.symbol,symbol:m.symbol,chain:m.chain,value:m.value,percentage:m.value/s.totalValue*100,color:["#3B82F6","#8B5CF6","#EF4444","#F59E0B","#10B981","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1"][E%10]}));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:o("overview.totalValue")}),e.jsx("p",{className:"text-2xl font-bold text-slate-100",children:H(s.totalValue)}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:Pa(s.totalChange24h),children:[Aa(s.totalChange24h)," ",Ea(s.totalChange24h)]}),e.jsx("span",{className:"text-xs text-slate-500 ml-2",children:o("overview.for24h")})]})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-900/20 rounded-lg flex items-center justify-center",children:e.jsx(Us,{className:"w-6 h-6 text-blue-400"})})]})}),e.jsx("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:o("overview.wallets")}),e.jsx("p",{className:"text-2xl font-bold text-slate-100",children:s.walletsCount}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:o("overview.activeAddresses")})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-900/20 rounded-lg flex items-center justify-center",children:e.jsx(Se,{className:"w-6 h-6 text-blue-400"})})]})}),e.jsx("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:o("overview.topToken")}),e.jsx("p",{className:"text-xl font-bold text-slate-100",children:((R=s.topTokens[0])==null?void 0:R.symbol)||"N/A"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:H(((b=s.topTokens[0])==null?void 0:b.value)||0)})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-900/20 rounded-lg flex items-center justify-center",children:e.jsx(wt,{className:"w-6 h-6 text-blue-400"})})]})}),e.jsx("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:o("overview.topChain")}),e.jsx("p",{className:"text-xl font-bold text-slate-100",children:(v=s.topChains[0])!=null&&v.name?Y(s.topChains[0].name):"N/A"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:H(((j=s.topChains[0])==null?void 0:j.value)||0)})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-900/20 rounded-lg flex items-center justify-center",children:e.jsx(Vs,{className:"w-6 h-6 text-blue-400"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:o("overview.chainDistribution")}),e.jsx("div",{className:"h-64",children:e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(yt,{children:[e.jsx(Nt,{data:y,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:y.map((m,E)=>e.jsx(kt,{fill:m.color},`cell-${E}`))}),e.jsx(Te,{content:({active:m,payload:E})=>{if(m&&E&&E.length){const P=E[0].payload,S=Be(P.chainName);return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[(S==null?void 0:S.logo)&&e.jsx("img",{src:S.logo,alt:P.name,className:"w-5 h-5 rounded-full",onError:_=>{_.currentTarget.style.display="none"}}),e.jsx("span",{className:"text-slate-100 font-medium",children:P.name})]}),e.jsxs("p",{className:"text-slate-300 text-sm",children:[o("overview.value"),": ",H(P.value)]}),e.jsxs("p",{className:"text-slate-400 text-xs",children:[P.percentage.toFixed(2),"%"]})]})}return null},contentStyle:{backgroundColor:"transparent",border:"none",boxShadow:"none"}})]})})}),e.jsx("div",{className:"mt-4 space-y-2",children:y.map((m,E)=>{const P=Be(m.chainName);return e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:m.color}}),(P==null?void 0:P.logo)&&e.jsx("img",{src:P.logo,alt:m.name,className:"w-5 h-5 rounded-full",onError:S=>{S.currentTarget.style.display="none"}}),e.jsx("span",{className:"text-slate-300",children:m.name})]}),e.jsx("span",{className:"font-medium text-slate-100",children:H(m.value)})]},E)})})]}),e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:o("overview.topTokens")}),e.jsx("div",{className:"h-64",children:e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(Ct,{data:k,children:[e.jsx(Tt,{strokeDasharray:"3 3",stroke:"#475569"}),e.jsx(St,{dataKey:"name",stroke:"#94a3b8",fontSize:10,angle:-45,textAnchor:"end",height:80,interval:0,tickFormatter:m=>{if(m.length>15){const E=m.split(" (");if(E.length===2){const P=E[0],S=E[1].replace(")",""),_=S.length>8?S.substring(0,8)+"...":S;return`${P} (${_})`}}return m}}),e.jsx(Et,{stroke:"#94a3b8",fontSize:12}),e.jsx(Te,{content:({active:m,payload:E,label:P})=>{if(m&&E&&E.length){const S=E[0].payload;return Be(S.chain),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-slate-100 font-medium",children:S.symbol}),e.jsx("span",{className:"text-xs bg-slate-600 text-slate-300 px-2 py-0.5 rounded",children:o("overview.aggregated")})]}),e.jsxs("p",{className:"text-slate-300 text-sm",children:[o("overview.value"),": ",H(S.value)]}),e.jsxs("p",{className:"text-slate-400 text-xs",children:[S.percentage.toFixed(2),"%"]})]})}return null},contentStyle:{backgroundColor:"transparent",border:"none",boxShadow:"none"}}),e.jsx(Pt,{dataKey:"value",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]})]}),e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:o("overview.topProtocols")}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:o("overview.protocol")}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:o("overview.chain")}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:o("overview.category")}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-400",children:o("overview.value")})]})}),e.jsx("tbody",{children:s.topProtocols.slice(0,10).map((m,E)=>e.jsxs("tr",{className:p("border-b transition-colors",t==="dark"?"border-slate-700 hover:bg-slate-700/50":"border-gray-200 hover:bg-gray-50"),children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ae,{src:m.logo,alt:m.name,size:"sm"}),e.jsx("span",{className:"font-medium text-slate-100",children:m.name})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:(m.chains||[m.chain]).map((P,S)=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{src:ge(P),alt:P,size:"sm"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-900/20 text-blue-400",children:Y(P)})]},S))})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900/20 text-blue-400",children:m.category})}),e.jsx("td",{className:"py-3 px-4 text-right font-medium text-slate-100",children:H(m.value)})]},E))})]})})]})]})},La=({status:t})=>{const{t:s}=he(),{theme:r}=fe(),[n,a]=w.useState([]),[l,i]=w.useState([]),[d,o]=w.useState(!0),[y,k]=w.useState(null),[R,b]=w.useState("id"),[v,j]=w.useState("asc"),[m,E]=w.useState(()=>{const c=localStorage.getItem("minWalletValue");return c?parseFloat(c):.5}),[P,S]=w.useState(()=>localStorage.getItem("activeTier")||"all"),[_,L]=w.useState(""),[q,N]=w.useState(1),[U,u]=w.useState(100),[B,O]=w.useState(0),[V,I]=w.useState(!1),{selectedWallets:F,tempSelectedWallets:A,selectAll:$,deselectAll:Z,toggleWallet:ie,isWalletSelected:ee,saveChanges:ce,discardChanges:te,hasUnsavedChanges:de}=Ee(),[le,oe]=w.useState(null),[me,se]=w.useState(!1),[ue,X]=w.useState(!1),Q=(c,f,T)=>{if(T.shiftKey&&le!==null){const D=Math.min(le,f),G=Math.max(le,f),re=l.slice(D,G+1),ne=!ee(l[le].address);re.forEach(Ie=>{(ne&&!ee(Ie.address)||!ne&&ee(Ie.address))&&ie(Ie.address)})}else ie(c);oe(f)},C=async(c=!1)=>{o(!0);try{const f=await J.getWallets(R,v);a(f.wallets),O(f.total||f.wallets.length);const T=localStorage.getItem("selectedWallets"),D=localStorage.getItem("activeTier");if(!T&&f.wallets.length>0&&c&&!D){const G=f.wallets.map(re=>re.address);$(G)}k(null)}catch(f){k(s("status.walletsLoadError")),console.error("Error fetching wallets:",f)}finally{o(!1)}};w.useEffect(()=>{C(!0)},[]),w.useEffect(()=>{n.length>0&&C(!1),N(1)},[R,v]);const M=w.useRef(null),h=w.useRef(0);w.useEffect(()=>{if(!t)return;const c=t.isProcessing,f=t.processedWalletsCount||0;M.current===!0&&!c?(console.log("WalletsTab: Processing completed, refreshing wallets"),C(!1)):c&&Math.abs(f-h.current)>=20&&(console.log(`WalletsTab: Processed ${f-h.current} new wallets, refreshing`),C(!1),h.current=f),M.current=c},[t==null?void 0:t.isProcessing,t==null?void 0:t.processedWalletsCount]),w.useEffect(()=>{let c=[...n];if(_.trim()){const D=_.toLowerCase().trim();c=c.filter(G=>G.address.toLowerCase().includes(D)||G.id.toString().includes(_))}if(m>0&&(c=c.filter(D=>D.totalValue&&D.totalValue>=m)),P!=="all")if(P==="no-tier")c=c.filter(D=>!D.tier||D.tier===null||D.tier===void 0);else{const D=P==="tier1"?1:P==="tier2"?2:3;c=c.filter(G=>G.tier===D)}O(c.length);const f=(q-1)*U,T=c.slice(f,f+U);i(T)},[n,m,P,_,q,U]),w.useEffect(()=>{N(1)},[m,P,_]);const g=c=>{R===c?j(v==="asc"?"desc":"asc"):(b(c),j("desc"))},x=c=>{navigator.clipboard.writeText(c)},W=c=>{window.open(`https://debank.com/profile/${c}`,"_blank")},z=async()=>{if(A.size!==0){X(!0);try{const c=Array.from(A),f=await J.deleteWallets(c);Z(),se(!1),await C(),console.log(`Successfully deleted ${f.deletedCount} wallets`)}catch(c){console.error("Error deleting wallets:",c)}finally{X(!1)}}};return d?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("div",{className:"h-4 bg-slate-700 rounded mb-4 w-1/3"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((c,f)=>e.jsx("div",{className:"h-16 bg-slate-700 rounded"},f))})]})})}):y?e.jsx("div",{className:"bg-slate-800 rounded-xl p-8 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Dt,{className:"w-8 h-8 text-red-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:s("status.walletsLoadError")}),e.jsx("p",{className:"text-slate-400",children:y})]})}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-sm border border-slate-700",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-100 flex items-center gap-2",children:[s("wallets.title")," (",l.length,"/",B,") - ",s("wallets.selected"),": ",A.size,A.size>0&&e.jsx("button",{onClick:Z,className:"ml-1 p-1 text-red-400 hover:text-red-300 transition-colors",title:s("wallets.deselectAll"),children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),V&&e.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})]}),e.jsxs("div",{className:"text-sm text-slate-400",children:[s("wallets.total"),": ",B," | ",s("wallets.page"),": ",q," ",s("wallets.of")," ",Math.ceil(B/U)]})]}),de&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:te,className:"px-4 py-2 bg-slate-600 text-white rounded-lg font-medium hover:bg-slate-700 transition-colors",children:s("common.cancel")}),e.jsxs("button",{onClick:()=>se(!0),disabled:A.size===0,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 disabled:bg-slate-600 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4"}),"Delete (",A.size,")"]}),e.jsx("button",{onClick:ce,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:s("common.save")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-end",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(At,{className:"h-4 w-4 text-slate-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-8 py-2 border border-slate-600 bg-slate-700 rounded-lg text-slate-300 placeholder-slate-400 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:s("wallets.searchPlaceholder"),value:_,onChange:c=>L(c.target.value)}),_&&e.jsx("button",{onClick:()=>L(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-slate-300",children:e.jsx(Me,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[e.jsx("div",{className:p("flex items-center gap-1 rounded-lg p-1",r==="dark"?"bg-slate-700":"bg-gray-200"),children:[{id:"all",label:s("wallets.all")},{id:"tier1",label:s("wallets.tier1")},{id:"tier2",label:s("wallets.tier2")},{id:"tier3",label:s("wallets.tier3")},{id:"no-tier",label:s("wallets.noTier")}].map(c=>e.jsx("button",{onClick:()=>{S(c.id),localStorage.setItem("activeTier",c.id)},className:p("px-3 py-1 rounded-md text-sm transition-colors",P===c.id?"bg-blue-600 text-white":r==="dark"?"text-slate-300 hover:text-white":"text-gray-600 hover:text-gray-900"),children:c.label},c.id))}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[e.jsx("label",{children:"Min $"}),e.jsx("input",{type:"number",min:"0",step:"0.1",value:m,onChange:c=>{const f=parseFloat(c.target.value)||0;E(f),localStorage.setItem("minWalletValue",f.toString())},className:p("w-20 px-2 py-1 text-xs border rounded focus:ring-blue-500 focus:border-blue-500",r==="dark"?"border-slate-600 bg-slate-700 text-slate-200":"border-gray-300 bg-white text-gray-900"),placeholder:"0.5"})]})]}),e.jsx("div",{className:"flex items-center justify-end gap-2",children:e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:p("px-3 py-2 rounded-md text-sm transition-colors",r==="dark"?"bg-slate-700 text-slate-200 hover:bg-slate-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"В Tier ▾"}),e.jsx("div",{className:p("absolute right-0 mt-1 hidden group-hover:block border rounded-md shadow-lg z-10 min-w-[160px]",r==="dark"?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:["tier1","tier2","tier3"].map(c=>e.jsx("button",{onClick:async()=>{try{const f=Array.from(A.size>0?A:F),T=c==="tier1"?1:c==="tier2"?2:3;await Promise.all(f.map(D=>J.assignWalletTier(D,T))),await C(!1)}catch(f){console.error("Error assigning tier to multiple wallets:",f)}},className:p("block w-full text-left px-3 py-1 text-sm",r==="dark"?"text-slate-300 hover:bg-slate-700":"text-gray-700 hover:bg-gray-100"),children:s(c==="tier1"?"wallets.addToTier1":c==="tier2"?"wallets.addToTier2":"wallets.addToTier3")},c))})]})})]})]}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:e.jsxs("button",{onClick:()=>g("id"),className:"flex items-center space-x-1 hover:text-slate-300 transition-colors",children:[e.jsx("span",{children:s("wallets.id")}),e.jsx(ve,{className:"w-4 h-4"})]})}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:s("wallets.address")}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:e.jsxs("button",{onClick:()=>g("totalValue"),className:"flex items-center space-x-1 hover:text-slate-300 transition-colors",children:[e.jsx("span",{children:s("wallets.balance")}),e.jsx(ve,{className:"w-4 h-4"})]})}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:s("wallets.chains")}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:s("wallets.tokens")}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:s("wallets.protocols")}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:e.jsxs("button",{onClick:()=>g("protocolsValue"),className:"flex items-center space-x-1 hover:text-slate-300 transition-colors",children:[e.jsx("span",{children:s("wallets.inProtocols")}),e.jsx(ve,{className:"w-4 h-4"})]})}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:e.jsxs("button",{onClick:()=>g("lastUpdated"),className:"flex items-center space-x-1 hover:text-slate-300 transition-colors",children:[e.jsx("span",{children:s("wallets.updated")}),e.jsx(ve,{className:"w-4 h-4"})]})}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-slate-400",children:e.jsx("input",{type:"checkbox",className:"rounded border-slate-600 bg-slate-700 text-blue-600 focus:ring-blue-500",checked:!1,ref:c=>{if(c){const f=l.filter(D=>A.has(D.address)).length,T=l.length;f===0?(c.checked=!1,c.indeterminate=!1):f===T&&T>0?(c.checked=!0,c.indeterminate=!1):f>0&&(c.checked=!1,c.indeterminate=!0)}},onChange:()=>{if(l.length>0&&l.every(f=>A.has(f.address))){const f=l.map(D=>D.address),T=new Set(A);f.forEach(D=>{T.delete(D)}),$(Array.from(T))}else{const f=l.map(D=>D.address),T=new Set(A);f.forEach(D=>{T.add(D)}),$(Array.from(T))}},title:l.length>0&&l.every(c=>A.has(c.address))?s("wallets.deselectAllVisible"):s("wallets.selectAllVisible")})}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-400",children:s("wallets.actions")})]})}),e.jsx("tbody",{children:l.map((c,f)=>e.jsxs("tr",{className:p("border-b transition-colors",r==="dark"?"border-slate-700 hover:bg-slate-700/50":"border-gray-200 hover:bg-gray-50"),children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-slate-400",children:c.id}),c.tier&&e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-900/20 text-blue-400",children:["T",c.tier]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono text-sm text-slate-100",children:bs(c.address)}),e.jsx("button",{onClick:()=>x(c.address),className:"text-slate-400 hover:text-slate-300 transition-colors",title:s("wallets.copyAddress"),children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>window.open(`https://debank.com/profile/${c.address}`,"_blank"),className:"text-slate-400 hover:text-slate-300 transition-colors",title:s("wallets.openInDeBank"),children:e.jsx(pe,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"font-medium text-slate-100",children:H(c.totalValue)})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[c.chains.slice(0,3).map((T,D)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-900/20 text-blue-400",children:Y(T.name)},D)),c.chains.length>3&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-slate-700 text-slate-400",children:["+",c.chains.length-3]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-slate-400",children:c.tokens.length})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-slate-400",children:c.protocols.length})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"font-medium text-slate-100",children:H(c.protocols.reduce((T,D)=>T+D.value,0))})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-sm text-slate-500",children:ws(c.lastUpdated)})}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("input",{type:"checkbox",className:"rounded border-slate-600 bg-slate-700 text-blue-600 focus:ring-blue-500",checked:ee(c.address),onChange:T=>Q(c.address,f,T),title:s("wallets.includeInCalculations")})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("div",{className:"flex items-center justify-end gap-2",children:e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:p("transition-colors",r==="dark"?"text-slate-400 hover:text-white":"text-gray-600 hover:text-gray-900"),children:"Tier ▾"}),e.jsxs("div",{className:p("absolute right-0 mt-1 hidden group-hover:block rounded-md shadow-lg z-10",r==="dark"?"bg-slate-800 border border-slate-700":"bg-white border border-gray-200"),children:[["tier1","tier2","tier3"].map(T=>e.jsx("button",{onClick:async()=>{try{const D=T==="tier1"?1:T==="tier2"?2:3;await J.assignWalletTier(c.address,D),C(!1)}catch(D){console.error("Error assigning tier:",D)}},className:p("block w-full text-left px-3 py-1 text-sm transition-colors",r==="dark"?"hover:bg-slate-700":"hover:bg-gray-100",T==="tier1"&&c.tier===1||T==="tier2"&&c.tier===2||T==="tier3"&&c.tier===3?"text-blue-500":r==="dark"?"text-slate-300":"text-gray-700"),children:s(T==="tier1"?"wallets.addToTier1":T==="tier2"?"wallets.addToTier2":"wallets.addToTier3")},T)),e.jsx("div",{className:"border-t border-slate-700"}),e.jsx("button",{onClick:async()=>{try{await J.assignWalletTier(c.address,null),await C(!1)}catch(T){console.error("Error removing tier:",T)}},className:"block w-full text-left px-3 py-1 text-sm text-red-300 hover:bg-slate-700",children:s("wallets.removeFromTier")})]})]})})})]},c.id))})]})}),e.jsx("div",{className:"lg:hidden space-y-3 px-4 py-4",children:l.map((c,f)=>e.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm text-slate-400 font-medium",children:["#",c.id]}),c.tier&&e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-900/20 text-blue-400",children:["T",c.tier]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono text-sm text-slate-100",children:bs(c.address)}),e.jsx("button",{onClick:()=>x(c.address),className:"text-slate-400 hover:text-slate-300 transition-colors",title:s("wallets.copyAddress"),children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>window.open(`https://debank.com/profile/${c.address}`,"_blank"),className:"text-slate-400 hover:text-slate-300 transition-colors",title:s("wallets.openInDeBank"),children:e.jsx(pe,{className:"w-4 h-4"})})]})]}),e.jsx("input",{type:"checkbox",className:"rounded border-slate-600 bg-slate-700 text-blue-600 focus:ring-blue-500",checked:ee(c.address),onChange:T=>Q(c.address,f,T),title:s("wallets.includeInCalculations")})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:s("wallets.balance")}),e.jsx("div",{className:"font-medium text-slate-100",children:H(c.totalValue)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:s("wallets.inProtocols")}),e.jsx("div",{className:"font-medium text-slate-100",children:H(c.protocols.reduce((T,D)=>T+D.value,0))})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-2",children:s("wallets.chains")}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[c.chains.slice(0,4).map((T,D)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-900/20 text-blue-400",children:Y(T.name)},D)),c.chains.length>4&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-slate-700 text-slate-400",children:["+",c.chains.length-4]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-slate-400",children:[s("wallets.tokens"),": "]}),e.jsx("span",{className:"text-slate-300",children:c.tokens.length})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-slate-400",children:[s("wallets.protocols"),": "]}),e.jsx("span",{className:"text-slate-300",children:c.protocols.length})]}),e.jsx("div",{className:"text-xs text-slate-500",children:ws(c.lastUpdated)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>W(c.address),className:"text-blue-400 hover:text-blue-300 transition-colors",title:s("wallets.openInDeBank"),children:e.jsx(pe,{className:"w-4 h-4"})}),e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"text-slate-400 hover:text-white text-sm",children:"Tier ▾"}),e.jsxs("div",{className:"absolute right-0 bottom-full mb-1 hidden group-hover:block bg-slate-800 border border-slate-700 rounded-md shadow-lg z-10 min-w-[140px]",children:[["tier1","tier2","tier3"].map(T=>e.jsx("button",{onClick:async()=>{try{const D=T==="tier1"?1:T==="tier2"?2:3;await J.assignWalletTier(c.address,D),await C(!1)}catch(D){console.error("Error assigning tier:",D)}},className:`block w-full text-left px-3 py-1 text-sm hover:bg-slate-700 ${T==="tier1"&&c.tier===1||T==="tier2"&&c.tier===2||T==="tier3"&&c.tier===3?"text-blue-400":"text-slate-300"}`,children:s(T==="tier1"?"wallets.addToTier1":T==="tier2"?"wallets.addToTier2":"wallets.addToTier3")},T)),e.jsx("div",{className:"border-t border-slate-700"}),e.jsx("button",{onClick:async()=>{try{await J.assignWalletTier(c.address,null),await C(!1)}catch(T){console.error("Error removing tier:",T)}},className:"block w-full text-left px-3 py-1 text-sm text-red-300 hover:bg-slate-700",children:s("wallets.removeFromTier")})]})]})]})]})]},c.id))}),l.length===0&&!d&&e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Dt,{className:"w-8 h-8 text-slate-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:s("wallets.noWalletsFound")}),e.jsx("p",{className:"text-slate-400",children:s("wallets.noWalletsDescription")})]}),B>U&&l.length>=U&&e.jsxs("div",{className:"mt-6 flex items-center justify-between px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-slate-400",children:[s("wallets.showing")," ",(q-1)*U+1," - ",Math.min(q*U,B)," ",s("wallets.of")," ",B," ",s("common.wallets")]}),e.jsxs("select",{value:U,onChange:c=>{u(Number(c.target.value)),N(1),C(1)},className:"text-sm bg-slate-700 border border-slate-600 text-slate-200 rounded px-2 py-1",children:[e.jsxs("option",{value:50,children:["50 ",s("wallets.perPage")]}),e.jsxs("option",{value:100,children:["100 ",s("wallets.perPage")]}),e.jsxs("option",{value:200,children:["200 ",s("wallets.perPage")]}),e.jsxs("option",{value:500,children:["500 ",s("wallets.perPage")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>N(1),disabled:q===1||V,className:"px-3 py-1 text-sm bg-slate-700 text-slate-300 rounded hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:s("wallets.first")}),e.jsx("button",{onClick:()=>N(Math.max(1,q-1)),disabled:q===1||V,className:"px-3 py-1 text-sm bg-slate-700 text-slate-300 rounded hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:s("wallets.previous")}),(()=>{const c=Math.ceil(B/U),f=5;let T=Math.max(1,q-Math.floor(f/2)),D=Math.min(c,T+f-1);return D-T+1<f&&(T=Math.max(1,D-f+1)),Array.from({length:D-T+1},(G,re)=>{const ne=T+re;return e.jsx("button",{onClick:()=>N(ne),disabled:V,className:`px-3 py-1 text-sm rounded ${ne===q?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:ne},ne)})})(),e.jsx("button",{onClick:()=>N(Math.min(Math.ceil(B/U),q+1)),disabled:q>=Math.ceil(B/U)||V,className:"px-3 py-1 text-sm bg-slate-700 text-slate-300 rounded hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:s("wallets.next")}),e.jsx("button",{onClick:()=>N(Math.ceil(B/U)),disabled:q>=Math.ceil(B/U)||V,className:"px-3 py-1 text-sm bg-slate-700 text-slate-300 rounded hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:s("wallets.last")})]})]}),me&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 max-w-md w-full mx-4 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-full flex items-center justify-center",children:e.jsx(qe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:"Delete Wallets"}),e.jsx("p",{className:"text-sm text-slate-400",children:"This action cannot be undone"})]})]}),e.jsxs("p",{className:"text-slate-300 mb-6",children:["Are you sure you want to delete ",e.jsxs("strong",{children:[A.size," wallet",A.size>1?"s":""]})," from the database? This will permanently remove all data for these wallets."]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>se(!1),disabled:ue,className:"px-4 py-2 bg-slate-600 text-white rounded-lg font-medium hover:bg-slate-700 disabled:opacity-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:z,disabled:ue,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 disabled:opacity-50 transition-colors flex items-center gap-2",children:ue?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4"}),"Delete ",A.size," wallet",A.size>1?"s":""]})})]})]})})]})})};var Da=Zs();const Ms=async(t,s,r="Data")=>{const n=new Da.Workbook,a=n.addWorksheet(r);if(t.length>0){const y=Object.keys(t[0]);a.addRow(y),t.forEach(k=>{const R=y.map(b=>k[b]);a.addRow(R)})}const l=await n.xlsx.writeBuffer(),i=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),d=window.URL.createObjectURL(i),o=document.createElement("a");o.href=d,o.download=`${s}.xlsx`,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(d)},_a=(t=[],s)=>{const r=[],n=s.size===0;t.forEach(i=>{(n||s.has(i.address))&&i.tokens&&i.tokens.length>0&&i.tokens.forEach(o=>{r.push({Symbol:o.symbol,Chain:o.chain,Balance:o.balance,Price_USD:o.price,Value_USD:o.value,Wallet_Address:i.address})})});const l=`EVManager_Tokens_Export_${new Date().toISOString().split("T")[0]}`;Ms(r,l,"Tokens")},Fa=(t=[],s)=>{const r=[],n=s.size===0;t.forEach(i=>{(n||s.has(i.address))&&i.protocols&&i.protocols.length>0&&i.protocols.forEach(o=>{r.push({Protocol_Name:o.name,Chain:o.chain,Category:o.category||"defi",Value_USD:o.value,Wallet_Address:i.address})})});const l=`EVManager_Protocols_Export_${new Date().toISOString().split("T")[0]}`;Ms(r,l,"Protocols")},Ue=({value:t,onChange:s,options:r,placeholder:n,className:a="",multiple:l=!1})=>{const{theme:i}=fe(),[d,o]=w.useState(!1),y=w.useRef(null);w.useEffect(()=>{const m=E=>{y.current&&!y.current.contains(E.target)&&o(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]);const k=()=>{o(!d)},R=m=>{if(l){const E=Array.isArray(t)?t:t?[t]:[],P=E.includes(m)?E.filter(S=>S!==m):[...E,m];s(P)}else s(m),o(!1)},b=()=>{if(l){const m=Array.isArray(t)?t:t?[t]:[];return r.filter(E=>m.includes(E.value))}else return r.filter(m=>m.value===t)},v=()=>{const m=b();return m.length===0?n:l?m.length===1?m[0].label:`${m.length} выбрано`:m[0].label},j=b();return e.jsxs("div",{className:`relative ${a}`,ref:y,children:[e.jsxs("button",{type:"button",onClick:k,className:p("w-full px-3 py-2 border rounded-lg text-sm flex items-center justify-between transition-colors",i==="dark"?"border-slate-600 bg-slate-800 text-slate-100 hover:border-slate-500":"border-gray-300 bg-white text-gray-900 hover:border-gray-400"),children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[j.length>0&&j[0].logo&&e.jsx("img",{src:j[0].logo,alt:j[0].label,className:"w-4 h-4 rounded-full flex-shrink-0",onError:m=>{m.currentTarget.style.display="none"}}),e.jsx("span",{className:"truncate",children:v()})]}),e.jsx("svg",{className:p("w-4 h-4 transition-transform",d?"rotate-180":"",i==="dark"?"text-slate-400":"text-gray-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&e.jsx("div",{className:p("absolute z-50 w-full mt-1 rounded-lg shadow-lg max-h-60 overflow-y-auto",i==="dark"?"bg-slate-800 border border-slate-600":"bg-white border border-gray-200"),children:r.map(m=>{const E=l?Array.isArray(t)&&t.includes(m.value):t===m.value;return e.jsxs("button",{type:"button",onClick:()=>R(m.value),className:p("w-full px-3 py-2 text-left text-sm transition-colors flex items-center space-x-2",i==="dark"?`hover:bg-slate-700 ${E?"bg-slate-700 text-slate-100":"text-slate-300"}`:`hover:bg-gray-100 ${E?"bg-gray-100 text-gray-900":"text-gray-700"}`),children:[m.logo&&e.jsx("img",{src:m.logo,alt:m.label,className:"w-4 h-4 rounded-full flex-shrink-0",onError:P=>{P.currentTarget.style.display="none"}}),e.jsx("span",{className:"truncate",children:m.label}),E&&e.jsx("svg",{className:p("w-4 h-4 ml-auto",i==="dark"?"text-slate-400":"text-gray-500"),fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},m.value)})})]})},Wa=()=>{const{t}=he(),{theme:s}=fe(),[r,n]=w.useState([]),[a,l]=w.useState([]),[i,d]=w.useState([]),[o,y]=w.useState(null),[k,R]=w.useState(!0),[b,v]=w.useState(null),[j,m]=w.useState(""),[E,P]=w.useState("all_chains"),[S]=w.useState("value"),[_]=w.useState("desc"),[L,q]=w.useState({}),[N,U]=w.useState(!1),[u,B]=w.useState(new Set),[O,V]=w.useState({}),[I,F]=w.useState({}),[A,$]=w.useState(new Set),[Z,ie]=w.useState({}),{selectedWallets:ee}=Ee();w.useEffect(()=>{const h=async()=>{try{const x=Array.from(ee),[W,z]=await Promise.all([J.getAggregated(x),J.getWallets()]),c=W.detailedTopTokens||W.topTokens,f=z.wallets;n(c||[]),d(f),y(W),v(null)}catch(x){v(t("status.loadingError")),console.error("Error fetching tokens:",x)}finally{R(!1)}};h();const g=setInterval(async()=>{try{(await J.getStatus()).isProcessing&&h()}catch{}},8e3);return()=>clearInterval(g)},[ee]),w.useEffect(()=>{const h=E!=="all_chains";let x=h?ce(r):r;j&&(x=x.filter(c=>{const f=j.toLowerCase();return c.symbol.toLowerCase().includes(f)||c.name.toLowerCase().includes(f)?!0:h?Y(c.chain).toLowerCase().includes(f):c.chains&&Array.isArray(c.chains)?c.chains.some(T=>Y(T).toLowerCase().includes(f)):c.chain?Y(c.chain).toLowerCase().includes(f):!1})),E!=="all_chains"&&(h?x=x.filter(c=>c.chain===E):x=x.filter(c=>c.chains&&Array.isArray(c.chains)?c.chains.includes(E):c.chain===E)),L.minValue!==void 0&&(x=x.filter(c=>c.value>=L.minValue)),L.maxValue!==void 0&&(x=x.filter(c=>c.value<=L.maxValue)),L.selectedToken&&(x=x.filter(c=>c.symbol===L.selectedToken)),x.sort((c,f)=>{if(S==="chain"){const G=Y(c.chain),re=Y(f.chain),ne=G.localeCompare(re);return _==="asc"?ne:-ne}const T=c[S],D=f[S];return _==="asc"?T-D:D-T}),l(x);const W={},z={};x.forEach(c=>{z[c.symbol]||(z[c.symbol]=0);const f=x.filter(T=>T.symbol===c.symbol).map(T=>T.chain);z[c.symbol]=new Set(f).size}),x.forEach(c=>{W[c.symbol]||(W[c.symbol]=[]),W[c.symbol].push(c)}),Object.keys(W).forEach(c=>{W[c].sort((f,T)=>T.value-f.value)}),V(W)},[r,j,E,S,_,L]);const ce=h=>{const g=[];return h.forEach(x=>{var W;x.chains&&Array.isArray(x.chains)&&x.chains.length>1?x.chains.forEach(z=>{z!=="all"&&g.push({...x,chain:z,chains:[z],value:x.value/x.chains.length,balance:x.balance/x.chains.length})}):g.push({...x,chain:x.chain==="all"&&((W=x.chains)!=null&&W[0])?x.chains[0]:x.chain})}),g},te=()=>{const h=new Set;return!r||r.length===0?[]:(r.forEach(g=>{g&&(g.chains&&Array.isArray(g.chains)?g.chains.forEach(x=>{x&&x!=="all"&&h.add(x)}):g.chain&&g.chain!=="all"&&h.add(g.chain))}),Array.from(h).sort())},de=h=>{if(h==="all_chains"){const g=new Set;return r.forEach(x=>g.add(x.symbol)),Array.from(g).sort()}else{const g=ce(r),x=new Set;return g.filter(W=>W.chain===h).forEach(W=>x.add(W.symbol)),Array.from(x).sort()}},le=()=>{if(o!=null&&o.topChains)return o.topChains.map(g=>{var x;return{name:Y(g.name),chainName:g.name,value:g.value,tokenCount:((x=g.tokens)==null?void 0:x.length)||0}}).sort((g,x)=>x.value-g.value);const h=new Map;return r.forEach(g=>{const x=h.get(g.chain)||{totalValue:0,tokenCount:0};h.set(g.chain,{totalValue:x.totalValue+g.value,tokenCount:x.tokenCount+1})}),Array.from(h.entries()).map(([g,x])=>({name:Y(g),chainName:g,value:x.totalValue,tokenCount:x.tokenCount}))},oe=()=>{_a(i,ee)},me=async(h,g)=>{const x=h;if(u.has(x)){const z=new Set(u);z.delete(x),B(z)}else{const z=new Set(u);if(z.add(x),B(z),!I[x]){const c=new Set(A);c.add(x),$(c);try{const f=Array.from(ee),T=[];let D=0,G=!0;for(;G;){const re=await J.getTokenWallets(h,"all",f.length>0?f:void 0,D,1e3);T.push(...re.wallets),G=re.hasMore,D+=1e3,G&&await new Promise(ne=>setTimeout(ne,100))}F(re=>({...re,[x]:T}))}catch(f){console.error("Ошибка загрузки кошельков токена:",f)}finally{const f=new Set(A);f.delete(x),$(f)}}}},se=async h=>{try{await navigator.clipboard.writeText(h)}catch(g){console.error("Failed to copy to clipboard:",g)}},ue=h=>{const g=I[h]||[],x=Z[h]||1,W=10,z=Math.ceil(g.length/W),c=(x-1)*W,f=c+W;return{pageWallets:g.slice(c,f),currentPage:x,totalPages:z,totalWallets:g.length,startIndex:c+1,endIndex:Math.min(f,g.length)}},X=(h,g)=>{ie(x=>({...x,[h]:g}))},Q=le().map((h,g)=>({name:h.name,chainName:h.chainName,value:h.value,tokenCount:h.tokenCount,color:["#3B82F6","#8B5CF6","#EF4444","#F59E0B","#10B981","#06B6D4"][g%6]})),C=Q.reduce((h,g)=>h+g.value,0),M=Q.map(h=>({...h,percentage:h.value/C*100}));return k?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("div",{className:"h-4 bg-slate-700 rounded mb-4 w-1/3"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((h,g)=>e.jsx("div",{className:"h-16 bg-slate-700 rounded"},g))})]})})}):b?e.jsx("div",{className:p("rounded-xl p-8 shadow-sm border",s==="dark"?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(wt,{className:"w-8 h-8 text-red-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:t("status.loadingError")}),e.jsx("p",{className:"text-slate-400",children:b})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:p("rounded-xl p-6 shadow-sm border",s==="dark"?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:t("filters.searchTokens"),value:j,onChange:h=>m(h.target.value),className:p("w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",s==="dark"?"border-slate-600 bg-slate-800 text-slate-100 placeholder-slate-400":"border-gray-300 bg-white text-gray-900 placeholder-gray-500")})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>U(!N),className:p("flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors",N?"bg-blue-900/20 border-blue-600 text-blue-400":s==="dark"?"bg-slate-800 border-slate-600 text-slate-300 hover:bg-slate-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"),children:[e.jsx(ks,{className:"w-4 h-4"}),e.jsx("span",{children:t("filters.filters")})]}),e.jsxs("button",{onClick:oe,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(Rt,{className:"w-4 h-4"}),e.jsx("span",{children:t("filters.export")})]})]})]}),N&&e.jsxs("div",{className:p("mt-4 p-4 rounded-lg",s==="dark"?"bg-slate-700":"bg-gray-50"),children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:p("block text-sm font-medium mb-2",s==="dark"?"text-slate-300":"text-gray-700"),children:t("filters.chain")}),e.jsx(Ue,{value:E,onChange:h=>P(h),options:(()=>{const h=te();return[{value:"all_chains",label:t("filters.allChains")},...h.map(x=>({value:x,label:Y(x),logo:ge(x)}))]})(),placeholder:t("filters.allChains")})]}),e.jsxs("div",{children:[e.jsx("label",{className:p("block text-sm font-medium mb-2",s==="dark"?"text-slate-300":"text-gray-700"),children:t("filters.token")}),e.jsx(Ue,{value:L.selectedToken||"all_tokens",onChange:h=>q({...L,selectedToken:h==="all_tokens"?void 0:h}),options:[{value:"all_tokens",label:t("filters.allTokens")},...de(E).map(h=>{const g=r.find(x=>x.symbol===h);return{value:h,label:h,logo:g==null?void 0:g.logo}})],placeholder:t("filters.allTokens")})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:p("block text-sm font-medium mb-2",s==="dark"?"text-slate-300":"text-gray-700"),children:t("filters.valueRange")}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:t("filters.from"),value:L.minValue||"",onChange:h=>{const g=h.target.value;(g===""||parseFloat(g)>=0)&&q({...L,minValue:g===""?void 0:parseFloat(g)})},className:p("flex-1 px-3 py-2 border rounded-lg text-sm",s==="dark"?"border-slate-600 bg-slate-800 text-slate-100":"border-gray-300 bg-white text-gray-900")}),e.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:t("filters.to"),value:L.maxValue||"",onChange:h=>{const g=h.target.value;(g===""||parseFloat(g)>=0)&&q({...L,maxValue:g===""?void 0:parseFloat(g)})},className:p("flex-1 px-3 py-2 border rounded-lg text-sm",s==="dark"?"border-slate-600 bg-slate-800 text-slate-100":"border-gray-300 bg-white text-gray-900")})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:()=>{q({}),m(""),P("all_chains")},className:"text-sm text-slate-400 hover:text-slate-300",children:t("filters.reset")})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:p("rounded-xl p-6 shadow-sm border",s==="dark"?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:t("tokens.chainDistribution")}),e.jsx("div",{className:"h-64",children:e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(yt,{children:[e.jsx(Nt,{data:M,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:M.map((h,g)=>e.jsx(kt,{fill:h.color},`cell-${g}`))}),e.jsx(Te,{content:({active:h,payload:g})=>{if(h&&g&&g.length){const x=g[0].payload,W=Be(x.chainName);return e.jsxs("div",{className:p("border rounded-lg p-3 shadow-lg",s==="dark"?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[(W==null?void 0:W.logo)&&e.jsx("img",{src:W.logo,alt:x.name,className:"w-5 h-5 rounded-full",onError:z=>{z.currentTarget.style.display="none"}}),e.jsx("span",{className:"text-slate-100 font-medium",children:x.name})]}),e.jsxs("p",{className:"text-slate-300 text-sm",children:[t("tokens.value"),": ",H(x.value)]}),e.jsxs("p",{className:"text-slate-400 text-xs",children:[x.percentage.toFixed(2),"%"]})]})}return null},contentStyle:{backgroundColor:"transparent",border:"none",boxShadow:"none"}})]})})}),e.jsx("div",{className:"mt-4 space-y-2",children:M.map((h,g)=>{const x=Be(h.chainName);return e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:h.color}}),(x==null?void 0:x.logo)&&e.jsx("img",{src:x.logo,alt:h.name,className:"w-5 h-5 rounded-full",onError:W=>{W.currentTarget.style.display="none"}}),e.jsx("span",{className:"text-slate-300",children:h.name})]}),e.jsx("span",{className:"font-medium text-slate-100",children:H(h.value)})]},g)})})]}),e.jsxs("div",{className:p("rounded-xl p-6 shadow-sm border",s==="dark"?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:t("tokens.topTokensByValue")}),e.jsx("div",{className:"h-64",children:e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(Ct,{data:(()=>{const h=r.filter(x=>x.chain==="all").sort((x,W)=>W.value-x.value).slice(0,10);if(h.length===0){const x=a.sort((z,c)=>c.value-z.value).slice(0,10),W=x.reduce((z,c)=>z+c.value,0);return x.map(z=>({...z,displayName:z.symbol,percentage:z.value/W*100}))}const g=h.reduce((x,W)=>x+W.value,0);return h.map(x=>({...x,displayName:x.symbol,percentage:x.value/g*100}))})(),children:[e.jsx(Tt,{strokeDasharray:"3 3",stroke:"#475569"}),e.jsx(St,{dataKey:"displayName",stroke:"#94a3b8",fontSize:12,angle:-45,textAnchor:"end",height:60,interval:0}),e.jsx(Et,{stroke:"#94a3b8",fontSize:12}),e.jsx(Te,{content:({active:h,payload:g,label:x})=>{if(h&&g&&g.length){const W=g[0].payload;return e.jsxs("div",{className:p("border rounded-lg p-3 shadow-lg",s==="dark"?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-slate-100 font-medium",children:W.symbol}),W.logo&&e.jsx("img",{src:W.logo,alt:W.symbol,className:"w-5 h-5 rounded-full",onError:z=>{z.currentTarget.style.display="none"}})]}),e.jsxs("p",{className:"text-slate-300 text-sm",children:[t("overview.totalValue"),": ",H(W.value)]}),e.jsxs("p",{className:"text-slate-400 text-xs",children:[W.percentage.toFixed(2),"% ",t("tokens.ofTopTen")]}),e.jsx("p",{className:"text-slate-500 text-xs",children:t("tokens.aggregatedAcrossNetworks")})]})}return null},contentStyle:{backgroundColor:"transparent",border:"none",boxShadow:"none"}}),e.jsx(Pt,{dataKey:"value",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]})]}),e.jsxs("div",{className:p("rounded-xl shadow-sm border",s==="dark"?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-100",children:[t("tokens.title")," (",Object.keys(O).length," ",t("tokens.groups"),", ",a.length," ",t("tokens.tokensTotal"),")"]}),e.jsxs("div",{className:"text-sm text-slate-400",children:[t("tokens.showing")," ",Object.keys(O).length," ",t("tokens.groupsOf")," ",a.length," ",t("tokens.tokensTotal")]})]})}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:p(s==="dark"?"bg-slate-800":"bg-gray-50"),children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:t("tokens.token")}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:t("tokens.chain")}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-400",children:t("tokens.balance")}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-400",children:t("tokens.price")}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-400",children:t("tokens.value")})]})}),e.jsx("tbody",{children:a.map((h,g)=>{const x=h.symbol,W=u.has(x),z=A.has(x),c=I[x]||[];return e.jsxs(Ve.Fragment,{children:[e.jsxs("tr",{className:p("border-b transition-colors",s==="dark"?"border-slate-700 hover:bg-slate-700/50":"border-gray-200 hover:bg-gray-50"),children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>me(h.symbol),className:p("p-1 rounded transition-colors",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),title:W?"Свернуть":"Развернуть",children:W?e.jsx(Fe,{className:"w-4 h-4 text-slate-400"}):e.jsx(we,{className:"w-4 h-4 text-slate-400"})}),e.jsx(ae,{src:h.logo,alt:h.name||h.symbol,size:"md"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-100",children:h.address?e.jsx("a",{href:vs(h.address,h.chain),target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",title:"Открыть в эксплорере",children:h.symbol}):h.symbol}),e.jsx("div",{className:"text-sm text-slate-400",children:h.name})]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:(h.chains||[h.chain]).map((f,T)=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{src:ge(f),alt:f,size:"sm"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-900/20 text-blue-400",children:Y(f)})]},T))})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:"font-mono text-sm text-slate-100",children:_e(h.balance)})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:"text-slate-100",children:H(h.price)})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:"font-medium text-slate-100",children:H(h.value)})})]}),W&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:p("px-6 py-4",s==="dark"?"bg-slate-800/50":"bg-gray-50"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-300 font-medium",children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsx("span",{children:t("tokens.walletsWithToken")}),z&&e.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})]}),z?e.jsx("div",{className:"text-center py-4 text-slate-400",children:"Загрузка кошельков..."}):c.length===0?e.jsx("div",{className:"text-center py-4 text-slate-400",children:"Нет кошельков с этим токеном"}):(()=>{const f=h.symbol,T=ue(f);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:T.pageWallets.map((D,G)=>e.jsxs("div",{className:p("flex items-center justify-between py-2 px-4 rounded-lg",s==="dark"?"bg-slate-700/30":"bg-gray-100"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:p("text-sm font-mono",s==="dark"?"text-slate-300":"text-gray-600"),children:["#",D.wallet.id]}),e.jsxs("div",{className:p("text-sm font-mono",s==="dark"?"text-blue-400":"text-blue-600"),children:[D.wallet.address.slice(0,6),"...",D.wallet.address.slice(-4)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>se(D.wallet.address),className:p("p-1 rounded transition-colors",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),title:t("wallets.copyAddress"),children:e.jsx(je,{className:p("w-3 h-3",s==="dark"?"text-slate-400 hover:text-slate-300":"text-gray-500 hover:text-gray-700")})}),e.jsx("button",{onClick:()=>window.open(`https://debank.com/profile/${D.wallet.address}`,"_blank"),className:p("p-1 rounded transition-colors",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),title:t("wallets.openInDeBank"),children:e.jsx(pe,{className:p("w-3 h-3",s==="dark"?"text-slate-400 hover:text-slate-300":"text-gray-500 hover:text-gray-700")})})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(D.token.chains||[D.token.chain]).map((re,ne)=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{src:ge(re),alt:re,size:"sm"}),e.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-green-900/20 text-green-400",children:Y(re)})]},ne))})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-sm text-slate-300",children:_e(D.token.balance)}),e.jsx("div",{className:"text-sm font-medium text-slate-100",children:H(D.token.value)})]})]},G))}),T.totalPages>1&&e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-600",children:[e.jsxs("div",{className:"text-sm text-slate-400",children:[t("wallets.showing")," ",T.startIndex,"-",T.endIndex," ",t("wallets.of")," ",T.totalWallets," ",t("common.wallets")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>X(f,T.currentPage-1),disabled:T.currentPage===1,className:p("p-1 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),children:e.jsx(We,{className:"w-4 h-4 text-slate-400"})}),e.jsxs("span",{className:"text-sm text-slate-300",children:[T.currentPage," / ",T.totalPages]}),e.jsx("button",{onClick:()=>X(f,T.currentPage+1),disabled:T.currentPage===T.totalPages,className:p("p-1 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),children:e.jsx(we,{className:"w-4 h-4 text-slate-400"})})]})]})]})})()]})})})]},g)})})]})}),e.jsx("div",{className:"lg:hidden space-y-3 px-4 py-4",children:a.map((h,g)=>{const x=h.symbol,W=u.has(x),z=A.has(x),c=I[x]||[];return e.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>me(h.symbol),className:p("p-1 rounded transition-colors",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),title:W?"Свернуть":"Развернуть",children:W?e.jsx(Fe,{className:"w-4 h-4 text-slate-400"}):e.jsx(we,{className:"w-4 h-4 text-slate-400"})}),e.jsx(ae,{src:h.logo,alt:h.name||h.symbol,size:"md"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-100",children:h.address?e.jsx("a",{href:vs(h.address,h.chain),target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",title:"Открыть в эксплорере",children:h.symbol}):h.symbol}),e.jsx("div",{className:"text-sm text-slate-400",children:h.name})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:t("tokens.balance")}),e.jsx("div",{className:"font-mono text-sm text-slate-100",children:_e(h.balance)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:t("tokens.value")}),e.jsx("div",{className:"font-medium text-slate-100",children:H(h.value)})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:t("tokens.price")}),e.jsx("div",{className:"text-slate-100",children:H(h.price)})]})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-400 mb-2",children:t("tokens.chain")}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(h.chains||[h.chain]).map((f,T)=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{src:ge(f),alt:f,size:"sm"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-900/20 text-blue-400",children:Y(f)})]},T))})]})]}),W&&e.jsxs("div",{className:"border-t border-slate-600 pt-3 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-300 font-medium mb-3",children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsx("span",{children:t("tokens.walletsWithToken")}),z&&e.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})]}),z?e.jsx("div",{className:"text-center py-4 text-slate-400",children:"Загрузка кошельков..."}):c.length===0?e.jsx("div",{className:"text-center py-4 text-slate-400",children:"Нет кошельков с этим токеном"}):(()=>{const f=ue(x);return e.jsxs("div",{className:"space-y-2",children:[f.pageWallets.map((T,D)=>e.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-600/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-sm font-mono text-slate-300",children:["#",T.wallet.id]}),e.jsxs("div",{className:"text-sm font-mono text-blue-400",children:[T.wallet.address.slice(0,6),"...",T.wallet.address.slice(-4)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>se(T.wallet.address),className:p("p-1 rounded transition-colors",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),title:t("wallets.copyAddress"),children:e.jsx(je,{className:p("w-3 h-3",s==="dark"?"text-slate-400 hover:text-slate-300":"text-gray-500 hover:text-gray-700")})}),e.jsx("button",{onClick:()=>window.open(`https://debank.com/profile/${T.wallet.address}`,"_blank"),className:p("p-1 rounded transition-colors",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),title:t("wallets.openInDeBank"),children:e.jsx(pe,{className:p("w-3 h-3",s==="dark"?"text-slate-400 hover:text-slate-300":"text-gray-500 hover:text-gray-700")})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-slate-300",children:_e(T.token.balance)}),e.jsx("div",{className:"text-sm font-medium text-slate-100",children:H(T.token.value)})]})]},D)),f.totalPages>1&&e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-600",children:[e.jsxs("div",{className:"text-sm text-slate-400",children:[t("wallets.showing")," ",f.startIndex,"-",f.endIndex," ",t("wallets.of")," ",f.totalWallets," ",t("common.wallets")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>X(x,f.currentPage-1),disabled:f.currentPage===1,className:p("p-1 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),children:e.jsx(We,{className:"w-4 h-4 text-slate-400"})}),e.jsxs("span",{className:"text-sm text-slate-300",children:[f.currentPage," / ",f.totalPages]}),e.jsx("button",{onClick:()=>X(x,f.currentPage+1),disabled:f.currentPage===f.totalPages,className:p("p-1 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),children:e.jsx(we,{className:"w-4 h-4 text-slate-400"})})]})]})]})})()]})]},g)})}),a.length===0&&e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(wt,{className:"w-8 h-8 text-slate-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:"Токены не найдены"}),e.jsx("p",{className:"text-slate-400",children:"Попробуйте изменить фильтры или поисковый запрос"})]})]})]})},za=()=>{const{t}=he(),{theme:s}=fe(),[r,n]=w.useState([]),[a,l]=w.useState([]),[i,d]=w.useState([]),[o,y]=w.useState(!0),[k,R]=w.useState(null),[b,v]=w.useState(""),[j,m]=w.useState("all_chains"),[E,P]=w.useState("value"),[S,_]=w.useState("desc"),[L,q]=w.useState({}),[N,U]=w.useState(!1),[u,B]=w.useState(new Set),[O,V]=w.useState({}),[I,F]=w.useState(new Set),[A,$]=w.useState({}),{selectedWallets:Z}=Ee();w.useEffect(()=>{const C=async()=>{try{const h=Array.from(Z),[g,x]=await Promise.all([J.getAggregated(h),J.getWallets()]),W=g.topProtocols,z=x.wallets;n(W),l(W),d(z),R(null)}catch(h){R(t("status.loadingError")),console.error("Error fetching protocols:",h)}finally{y(!1)}};C();const M=setInterval(C,5e3);return()=>clearInterval(M)},[Z]),w.useEffect(()=>{const C=j!=="all_chains";let h=C?ie(r):r;b&&(h=h.filter(g=>g.name.toLowerCase().includes(b.toLowerCase()))),j!=="all_chains"&&(C?h=h.filter(g=>g.chain===j):h=h.filter(g=>g.chains&&Array.isArray(g.chains)?g.chains.includes(j):g.chain===j)),L.selectedProtocol&&(h=h.filter(g=>g.name===L.selectedProtocol)),L.minValue!==void 0&&(h=h.filter(g=>g.value>=L.minValue)),L.maxValue!==void 0&&(h=h.filter(g=>g.value<=L.maxValue)),h.sort((g,x)=>{const W=g[E],z=x[E];if(typeof W=="string"&&typeof z=="string")return S==="asc"?W.localeCompare(z):z.localeCompare(W);{const c=W,f=z;return S==="asc"?c-f:f-c}}),l(h)},[r,b,j,E,S,L]);const ie=C=>{const M=[];return C.forEach(h=>{var g;h.chains&&Array.isArray(h.chains)&&h.chains.length>1?h.chains.forEach(x=>{x!=="all"&&M.push({...h,chain:x,chains:[x],value:h.value/h.chains.length})}):M.push({...h,chain:h.chain==="all"&&((g=h.chains)!=null&&g[0])?h.chains[0]:h.chain})}),M},ee=()=>{const C=new Set;return!r||r.length===0?[]:(r.forEach(M=>{M&&(M.chains&&Array.isArray(M.chains)?M.chains.forEach(h=>{h&&h!=="all"&&C.add(h)}):M.chain&&M.chain!=="all"&&C.add(M.chain))}),Array.from(C).sort())},ce=C=>{if(C==="all_chains"){const M=new Set;return r.forEach(h=>M.add(h.name)),Array.from(M).sort()}else{const M=ie(r),h=new Set;return M.filter(g=>g.chain===C).forEach(g=>h.add(g.name)),Array.from(h).sort()}},te=()=>[...r].sort((M,h)=>h.value-M.value).slice(0,10).map((M,h)=>({name:M.name,value:M.value,chain:M.chain,category:M.category,logo:M.logo,color:["#3B82F6","#8B5CF6","#EF4444","#F59E0B","#10B981","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1"][h%10]})),de=()=>{Fa(i,Z)},le=async C=>{const M=C.name;if(u.has(M)){const g=new Set(u);g.delete(M),B(g)}else{const g=new Set(u);if(g.add(M),B(g),!O[M]){const x=new Set(I);x.add(M),F(x);try{const W=Array.from(Z),z=[];let c=0,f=!0;for(;f;){const T=await J.getProtocolWallets(C.name,"all",W.length>0?W:void 0,c,1e3);z.push(...T.wallets),f=T.hasMore,c+=1e3,f&&await new Promise(D=>setTimeout(D,100))}V(T=>({...T,[M]:z}))}catch(W){console.error("Ошибка загрузки кошельков протокола:",W)}finally{const W=new Set(I);W.delete(M),F(W)}}}},oe=async C=>{try{await navigator.clipboard.writeText(C)}catch(M){console.error("Failed to copy to clipboard:",M)}},me=C=>{const M=O[C]||[],h=A[C]||1,g=10,x=Math.ceil(M.length/g),W=(h-1)*g,z=W+g;return{pageWallets:M.slice(W,z),currentPage:h,totalPages:x,totalWallets:M.length,startIndex:W+1,endIndex:Math.min(z,M.length)}},se=(C,M)=>{$(h=>({...h,[C]:M}))},ue=C=>{E===C?_(S==="asc"?"desc":"asc"):(P(C),_("desc"))},X=r.reduce((C,M)=>C+M.value,0),Q=te().map(C=>({...C,percentage:C.value/X*100}));return o?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("div",{className:"h-4 bg-slate-700 rounded mb-4 w-1/3"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((C,M)=>e.jsx("div",{className:"h-16 bg-slate-700 rounded"},M))})]})})}):k?e.jsx("div",{className:p("rounded-xl p-8 shadow-sm border",s==="dark"?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(bt,{className:"w-8 h-8 text-red-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:t("status.loadingError")}),e.jsx("p",{className:"text-slate-400",children:k})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:p("rounded-xl p-6 shadow-sm border",s==="dark"?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:t("filters.searchProtocols"),value:b,onChange:C=>v(C.target.value),className:p("w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",s==="dark"?"border-slate-600 bg-slate-800 text-slate-100 placeholder-slate-400":"border-gray-300 bg-white text-gray-900 placeholder-gray-500")})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>U(!N),className:p("flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors",N?"bg-blue-900/20 border-blue-600 text-blue-400":s==="dark"?"bg-slate-800 border-slate-600 text-slate-300 hover:bg-slate-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"),children:[e.jsx(ks,{className:"w-4 h-4"}),e.jsx("span",{children:t("filters.filters")})]}),e.jsxs("button",{onClick:de,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(Rt,{className:"w-4 h-4"}),e.jsx("span",{children:t("filters.export")})]})]})]}),N&&e.jsxs("div",{className:p("mt-4 p-4 rounded-lg",s==="dark"?"bg-slate-700":"bg-gray-50"),children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:p("block text-sm font-medium mb-2",s==="dark"?"text-slate-300":"text-gray-700"),children:t("filters.chain")}),e.jsx(Ue,{value:j,onChange:C=>m(C),options:[{value:"all_chains",label:t("filters.allChains")},...ee().map(C=>({value:C,label:Y(C),logo:ge(C)}))],placeholder:t("filters.allChains")})]}),e.jsxs("div",{children:[e.jsx("label",{className:p("block text-sm font-medium mb-2",s==="dark"?"text-slate-300":"text-gray-700"),children:t("filters.protocol")}),e.jsx(Ue,{value:L.selectedProtocol||"all_protocols",onChange:C=>q({...L,selectedProtocol:C==="all_protocols"?void 0:C}),options:[{value:"all_protocols",label:t("filters.allProtocols")},...ce(j).map(C=>{const M=r.find(h=>h.name===C);return{value:C,label:C,logo:M==null?void 0:M.logo}})],placeholder:t("filters.allProtocols")})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:p("block text-sm font-medium mb-2",s==="dark"?"text-slate-300":"text-gray-700"),children:t("filters.valueRange")}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:t("filters.from"),value:L.minValue||"",onChange:C=>{const M=C.target.value;(M===""||parseFloat(M)>=0)&&q({...L,minValue:M===""?void 0:parseFloat(M)})},className:p("flex-1 px-3 py-2 border rounded-lg text-sm",s==="dark"?"border-slate-600 bg-slate-800 text-slate-100":"border-gray-300 bg-white text-gray-900")}),e.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:t("filters.to"),value:L.maxValue||"",onChange:C=>{const M=C.target.value;(M===""||parseFloat(M)>=0)&&q({...L,maxValue:M===""?void 0:parseFloat(M)})},className:p("flex-1 px-3 py-2 border rounded-lg text-sm",s==="dark"?"border-slate-600 bg-slate-800 text-slate-100":"border-gray-300 bg-white text-gray-900")})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:()=>{q({}),v(""),m("all_chains")},className:"text-sm text-slate-400 hover:text-slate-300",children:t("filters.reset")})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:p("rounded-xl p-6 shadow-sm border",s==="dark"?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:t("protocols.protocolDistribution")}),e.jsx("div",{className:"h-64",children:e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(yt,{children:[e.jsx(Nt,{data:Q,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:Q.map((C,M)=>e.jsx(kt,{fill:C.color},`cell-${M}`))}),e.jsx(Te,{content:({active:C,payload:M})=>{if(C&&M&&M.length){const h=M[0].payload;return e.jsxs("div",{className:p("border rounded-lg p-3 shadow-lg",s==="dark"?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ae,{src:h.logo,alt:h.name,size:"sm"}),e.jsx("span",{className:"text-slate-100 font-medium",children:h.name})]}),e.jsx("div",{className:"flex items-center space-x-2 mb-2",children:e.jsx("span",{className:"text-slate-300 text-sm",children:Y(h.chain)})}),e.jsxs("p",{className:"text-slate-300 text-sm",children:[t("protocols.value"),": ",H(h.value)]}),e.jsxs("p",{className:"text-slate-400 text-xs",children:[h.percentage.toFixed(2),"%"]})]})}return null},contentStyle:{backgroundColor:"transparent",border:"none",boxShadow:"none"}})]})})}),e.jsx("div",{className:"mt-4 space-y-2",children:Q.map((C,M)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:C.color}}),e.jsx(ae,{src:C.logo,alt:C.name,size:"sm"}),e.jsx("span",{className:"text-slate-300",children:C.name})]}),e.jsx("span",{className:"font-medium text-slate-100",children:H(C.value)})]},M))})]}),e.jsxs("div",{className:p("rounded-xl p-6 shadow-sm border",s==="dark"?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:t("protocols.topProtocolsByValue")}),e.jsx("div",{className:"h-64",children:e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(Ct,{data:a.slice(0,10),children:[e.jsx(Tt,{strokeDasharray:"3 3",stroke:"#475569"}),e.jsx(St,{dataKey:"name",stroke:"#94a3b8",fontSize:12}),e.jsx(Et,{stroke:"#94a3b8",fontSize:12}),e.jsx(Te,{formatter:C=>[H(C),t("protocols.value")],labelFormatter:C=>`${C}`,contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px",color:"#f1f5f9"},itemStyle:{color:"#f1f5f9"},labelStyle:{color:"#f1f5f9"}}),e.jsx(Pt,{dataKey:"value",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]})]}),e.jsxs("div",{className:p("rounded-xl shadow-sm border",s==="dark"?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-100",children:[t("protocols.title")," (",a.length,")"]}),e.jsxs("div",{className:"text-sm text-slate-400",children:[t("protocols.showing")," ",a.length," ",t("protocols.of")," ",r.length]})]})}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:p(s==="dark"?"bg-slate-800":"bg-gray-50"),children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:t("protocols.protocol")}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:t("protocols.chain")}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:t("protocols.category")}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-400",children:e.jsxs("button",{onClick:()=>ue("value"),className:"flex items-center space-x-1 hover:text-slate-300 transition-colors",children:[e.jsx("span",{children:t("protocols.value")}),e.jsx(ve,{className:"w-4 h-4"})]})}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-400",children:t("protocols.actions")})]})}),e.jsx("tbody",{children:a.map((C,M)=>{const h=C.name,g=u.has(h),x=I.has(h),W=O[h]||[];return e.jsxs(Ve.Fragment,{children:[e.jsxs("tr",{className:p("border-b transition-colors",s==="dark"?"border-slate-700 hover:bg-slate-700/50":"border-gray-200 hover:bg-gray-50"),children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>le(C),className:p("p-1 rounded transition-colors",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),title:g?"Свернуть":"Развернуть",children:g?e.jsx(Fe,{className:"w-4 h-4 text-slate-400"}):e.jsx(we,{className:"w-4 h-4 text-slate-400"})}),e.jsx(ae,{src:C.logo,alt:C.name,size:"md"}),e.jsx("div",{children:e.jsx("div",{className:"font-medium text-slate-100",children:C.name})})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:(C.chains||[C.chain]).map((z,c)=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{src:ge(z),alt:z,size:"sm"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-900/20 text-blue-400",children:Y(z)})]},c))})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900/20 text-blue-400",children:C.category})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:"font-medium text-slate-100",children:H(C.value)})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("button",{onClick:()=>window.open(`https://debank.com/protocols/${C.id}`,"_blank"),className:"text-blue-400 hover:text-blue-300 transition-colors",title:t("wallets.openInDeBank"),children:e.jsx(pe,{className:"w-4 h-4"})})})]}),g&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:p("px-6 py-4",s==="dark"?"bg-slate-800/50":"bg-gray-50"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-300 font-medium",children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsx("span",{children:t("protocols.walletsWithFunds")}),x&&e.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})]}),x?e.jsx("div",{className:"text-center py-4 text-slate-400",children:"Загрузка кошельков..."}):W.length===0?e.jsx("div",{className:"text-center py-4 text-slate-400",children:"Нет кошельков с средствами в этом протоколе"}):(()=>{const z=C.name,c=me(z);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:c.pageWallets.map((f,T)=>e.jsxs("div",{className:p("flex items-center justify-between py-2 px-4 rounded-lg",s==="dark"?"bg-slate-700/30":"bg-gray-100"),children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:p("text-sm font-mono",s==="dark"?"text-slate-300":"text-gray-600"),children:["#",f.wallet.id]}),e.jsxs("div",{className:p("text-sm font-mono",s==="dark"?"text-blue-400":"text-blue-600"),children:[f.wallet.address.slice(0,6),"...",f.wallet.address.slice(-4)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>oe(f.wallet.address),className:p("p-1 rounded transition-colors",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),title:t("wallets.copyAddress"),children:e.jsx(je,{className:p("w-3 h-3",s==="dark"?"text-slate-400 hover:text-slate-300":"text-gray-500 hover:text-gray-700")})}),e.jsx("button",{onClick:()=>window.open(`https://debank.com/profile/${f.wallet.address}`,"_blank"),className:p("p-1 rounded transition-colors",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),title:t("wallets.openInDeBank"),children:e.jsx(pe,{className:p("w-3 h-3",s==="dark"?"text-slate-400 hover:text-slate-300":"text-gray-500 hover:text-gray-700")})})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(f.protocol.chains||[f.protocol.chain]).map((D,G)=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{src:ge(D),alt:D,size:"sm"}),e.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-green-900/20 text-green-400",children:Y(D)})]},G))}),f.protocol.tokens&&f.protocol.tokens.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[f.protocol.tokens.slice(0,6).map((D,G)=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{src:D.logo,alt:D.symbol,size:"sm"}),e.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-purple-900/20 text-purple-400",children:D.symbol})]},G)),f.protocol.tokens.length>6&&e.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-slate-700/50 text-slate-400",children:["+",f.protocol.tokens.length-6]})]})]}),e.jsx("div",{className:p("text-sm font-medium",s==="dark"?"text-slate-100":"text-gray-900"),children:H(f.protocol.value)})]},T))}),c.totalPages>1&&e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-600",children:[e.jsxs("div",{className:"text-sm text-slate-400",children:["Показано ",c.startIndex,"-",c.endIndex," из ",c.totalWallets," кошельков"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>se(z,c.currentPage-1),disabled:c.currentPage===1,className:p("p-1 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),children:e.jsx(We,{className:"w-4 h-4 text-slate-400"})}),e.jsxs("span",{className:"text-sm text-slate-300",children:[c.currentPage," / ",c.totalPages]}),e.jsx("button",{onClick:()=>se(z,c.currentPage+1),disabled:c.currentPage===c.totalPages,className:p("p-1 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),children:e.jsx(we,{className:"w-4 h-4 text-slate-400"})})]})]})]})})()]})})})]},M)})})]})}),e.jsx("div",{className:"lg:hidden space-y-3 px-4 py-4",children:a.map((C,M)=>{const h=C.name,g=u.has(h),x=I.has(h),W=O[h]||[];return e.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>le(C),className:p("p-1 rounded transition-colors",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),title:g?"Свернуть":"Развернуть",children:g?e.jsx(Fe,{className:"w-4 h-4 text-slate-400"}):e.jsx(we,{className:"w-4 h-4 text-slate-400"})}),e.jsx(ae,{src:C.logo,alt:C.name,size:"md"}),e.jsx("div",{children:e.jsx("div",{className:"font-medium text-slate-100",children:C.name})})]}),e.jsx("button",{onClick:()=>window.open(`https://debank.com/protocols/${C.id}`,"_blank"),className:"text-blue-400 hover:text-blue-300 transition-colors",title:t("wallets.openInDeBank"),children:e.jsx(pe,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:t("protocols.category")}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900/20 text-blue-400",children:C.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:t("protocols.value")}),e.jsx("div",{className:"font-medium text-slate-100",children:H(C.value)})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-2",children:t("protocols.chain")}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(C.chains||[C.chain]).map((z,c)=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{src:ge(z),alt:z,size:"sm"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-900/20 text-blue-400",children:Y(z)})]},c))})]}),g&&e.jsxs("div",{className:"border-t border-slate-600 pt-3 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-300 font-medium mb-3",children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsx("span",{children:t("protocols.walletsWithFunds")}),x&&e.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})]}),x?e.jsx("div",{className:"text-center py-4 text-slate-400",children:"Загрузка кошельков..."}):W.length===0?e.jsx("div",{className:"text-center py-4 text-slate-400",children:"Нет кошельков с средствами в этом протоколе"}):(()=>{const z=me(h);return e.jsxs("div",{className:"space-y-2",children:[z.pageWallets.map((c,f)=>e.jsxs("div",{className:p("flex items-center justify-between py-2 px-3 rounded-lg",s==="dark"?"bg-slate-600/30":"bg-gray-100"),children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:p("text-sm font-mono",s==="dark"?"text-slate-300":"text-gray-600"),children:["#",c.wallet.id]}),e.jsxs("div",{className:p("text-sm font-mono",s==="dark"?"text-blue-400":"text-blue-600"),children:[c.wallet.address.slice(0,6),"...",c.wallet.address.slice(-4)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>oe(c.wallet.address),className:p("p-1 rounded transition-colors",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),title:t("wallets.copyAddress"),children:e.jsx(je,{className:p("w-3 h-3",s==="dark"?"text-slate-400 hover:text-slate-300":"text-gray-500 hover:text-gray-700")})}),e.jsx("button",{onClick:()=>window.open(`https://debank.com/profile/${c.wallet.address}`,"_blank"),className:p("p-1 rounded transition-colors",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),title:t("wallets.openInDeBank"),children:e.jsx(pe,{className:p("w-3 h-3",s==="dark"?"text-slate-400 hover:text-slate-300":"text-gray-500 hover:text-gray-700")})})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(c.protocol.chains||[c.protocol.chain]).map((T,D)=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{src:ge(T),alt:T,size:"sm"}),e.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-green-900/20 text-green-400",children:Y(T)})]},D))}),c.protocol.tokens&&c.protocol.tokens.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[c.protocol.tokens.slice(0,5).map((T,D)=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{src:T.logo,alt:T.symbol,size:"sm"}),e.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-purple-900/20 text-purple-400",children:T.symbol})]},D)),c.protocol.tokens.length>5&&e.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-slate-700/50 text-slate-400",children:["+",c.protocol.tokens.length-5]})]})]}),e.jsx("div",{className:p("text-sm font-medium",s==="dark"?"text-slate-100":"text-gray-900"),children:H(c.protocol.value)})]},f)),z.totalPages>1&&e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-600",children:[e.jsxs("div",{className:"text-sm text-slate-400",children:["Показано ",z.startIndex,"-",z.endIndex," из ",z.totalWallets," кошельков"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>se(h,z.currentPage-1),disabled:z.currentPage===1,className:p("p-1 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),children:e.jsx(We,{className:"w-4 h-4 text-slate-400"})}),e.jsxs("span",{className:"text-sm text-slate-300",children:[z.currentPage," / ",z.totalPages]}),e.jsx("button",{onClick:()=>se(h,z.currentPage+1),disabled:z.currentPage===z.totalPages,className:p("p-1 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",s==="dark"?"hover:bg-slate-600":"hover:bg-gray-200"),children:e.jsx(we,{className:"w-4 h-4 text-slate-400"})})]})]})]})})()]})]},M)})}),a.length===0&&e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(bt,{className:"w-8 h-8 text-slate-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:"Протоколы не найдены"}),e.jsx("p",{className:"text-slate-400",children:"Попробуйте изменить фильтры или поисковый запрос"})]})]})]})},Ua=()=>{const{t}=he(),{theme:s}=fe(),[r,n]=w.useState([]),[a,l]=w.useState([]),[i,d]=w.useState(!0),[o,y]=w.useState(!1),[k,R]=w.useState(null),[b,v]=w.useState(null),[j,m]=w.useState("desc"),E=async()=>{try{const u=await J.getProxies();n(u.proxies||[]),y(u.isChecking||!1),R(null)}catch(u){R("Ошибка загрузки прокси"),console.error("Error fetching proxies:",u)}finally{d(!1)}},P=u=>{b===u?m(j==="asc"?"desc":"asc"):(v(u),m("desc"))};w.useEffect(()=>{let u=[...r];b&&u.sort((B,O)=>{let V,I;switch(b){case"status":const F={working:1,checking:2,failed:3,unknown:4};V=F[B.status]||4,I=F[O.status]||4;break;case"lastChecked":V=B.lastChecked?new Date(B.lastChecked).getTime():0,I=O.lastChecked?new Date(O.lastChecked).getTime():0;break;default:return 0}return V<I?j==="asc"?-1:1:V>I?j==="asc"?1:-1:0}),l(u)},[r,b,j]);const S=async()=>{try{await J.checkProxies(),await E()}catch(u){R("Ошибка проверки прокси"),console.error("Error checking proxies:",u)}};w.useEffect(()=>{E();const B=setInterval(()=>{E()},o?3e3:3e4);return()=>clearInterval(B)},[o]);const _=u=>{switch(u){case"working":return e.jsx(vt,{className:"w-5 h-5 text-green-400"});case"failed":return e.jsx(_t,{className:"w-5 h-5 text-red-400"});case"checking":return e.jsx(Cs,{className:"w-5 h-5 text-blue-400 animate-pulse"});default:return e.jsx(jt,{className:"w-5 h-5 text-slate-400"})}},L=u=>{switch(u){case"working":return t("proxies.working");case"failed":return t("proxies.failed");case"checking":return t("proxies.checking");default:return"Unknown"}},q=u=>{switch(u){case"working":return"text-green-400";case"failed":return"text-red-400";case"checking":return"text-blue-400";default:return"text-slate-400"}},N=r.filter(u=>u.status==="working").length,U=r.filter(u=>u.status==="failed").length;return i?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("div",{className:"h-4 bg-slate-700 rounded mb-4 w-1/3"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((u,B)=>e.jsx("div",{className:"h-16 bg-slate-700 rounded"},B))})]})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:t("proxies.total")}),e.jsx("p",{className:"text-2xl font-bold text-slate-100",children:r.length})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-900/20 rounded-lg flex items-center justify-center",children:e.jsx(Re,{className:"w-6 h-6 text-blue-400"})})]})}),e.jsx("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:t("proxies.working")}),e.jsx("p",{className:"text-2xl font-bold text-green-400",children:N})]}),e.jsx("div",{className:"w-12 h-12 bg-green-900/20 rounded-lg flex items-center justify-center",children:e.jsx(vt,{className:"w-6 h-6 text-green-400"})})]})}),e.jsx("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:t("proxies.failed")}),e.jsx("p",{className:"text-2xl font-bold text-red-400",children:U})]}),e.jsx("div",{className:"w-12 h-12 bg-red-900/20 rounded-lg flex items-center justify-center",children:e.jsx(_t,{className:"w-6 h-6 text-red-400"})})]})}),e.jsx("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:t("proxies.successRate")}),e.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:[r.length>0?Math.round(N/r.length*100):0,"%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-900/20 rounded-lg flex items-center justify-center",children:e.jsx(Re,{className:"w-6 h-6 text-blue-400"})})]})})]}),e.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-sm border border-slate-700",children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:t("proxies.title")}),e.jsxs("button",{onClick:S,disabled:o,className:p("flex items-center space-x-2 px-4 py-2 rounded-lg font-medium text-sm transition-colors",o?"bg-slate-700 text-slate-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:[e.jsx(Bt,{className:p("w-4 h-4",o&&"animate-spin")}),e.jsx("span",{children:t(o?"proxies.checking":"proxies.checkAll")})]})]})}),k&&e.jsx("div",{className:"px-6 py-4 bg-red-900/20 border-b border-slate-700",children:e.jsx("p",{className:"text-sm text-red-300",children:k})}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:e.jsxs("button",{onClick:()=>P("status"),className:"flex items-center space-x-1 hover:text-slate-300 transition-colors",children:[e.jsx("span",{children:t("proxies.status")}),e.jsx(ve,{className:"w-4 h-4"})]})}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:t("proxies.protocol")}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:t("proxies.address")}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:t("proxies.port")}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:t("proxies.country")}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:t("proxies.responseTime")}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:e.jsxs("button",{onClick:()=>P("lastChecked"),className:"flex items-center space-x-1 hover:text-slate-300 transition-colors",children:[e.jsx("span",{children:t("proxies.lastCheck")}),e.jsx(ve,{className:"w-4 h-4"})]})}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:t("proxies.error")})]})}),e.jsx("tbody",{children:a.map((u,B)=>e.jsxs("tr",{className:p("border-b transition-colors",s==="dark"?"border-slate-700 hover:bg-slate-700/50":"border-gray-200 hover:bg-gray-100"),children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[_(u.status),e.jsx("span",{className:p("text-sm font-medium",q(u.status)),children:L(u.status)})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900/20 text-blue-400",children:u.protocol.toUpperCase()})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"font-mono text-sm text-slate-300",children:u.host})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-slate-400",children:u.port})}),e.jsx("td",{className:"py-3 px-4",children:u.country?e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-purple-900/20 text-purple-400",children:u.country})}):e.jsx("span",{className:"text-slate-500 text-sm",children:"Checking..."})}),e.jsx("td",{className:"py-3 px-4",children:u.responseTime?e.jsxs("span",{className:p("font-mono text-sm",u.responseTime<1e3?"text-green-400":u.responseTime<3e3?"text-yellow-400":"text-red-400"),children:[u.responseTime,t("proxies.ms")]}):e.jsx("span",{className:"text-slate-500",children:"-"})}),e.jsx("td",{className:"py-3 px-4",children:u.lastChecked?e.jsx("span",{className:"text-sm text-slate-500",children:new Date(u.lastChecked).toLocaleString("ru-RU")}):e.jsx("span",{className:"text-slate-500",children:"-"})}),e.jsx("td",{className:"py-3 px-4",children:u.errorMessage?e.jsx("span",{className:"text-sm text-red-400 truncate max-w-xs",title:u.errorMessageKey?t(u.errorMessageKey):u.errorMessage,children:u.errorMessageKey?t(u.errorMessageKey):u.errorMessage}):e.jsx("span",{className:"text-slate-500",children:"-"})})]},u.id||B))})]})}),e.jsx("div",{className:"lg:hidden space-y-3 px-4 py-4",children:a.map((u,B)=>e.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[_(u.status),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono text-sm text-slate-300",children:u.host}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900/20 text-blue-400",children:u.protocol.toUpperCase()})]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["Port: ",u.port]})]})]}),e.jsx("span",{className:p("text-sm font-medium",q(u.status)),children:L(u.status)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:t("proxies.country")}),u.country?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-purple-900/20 text-purple-400",children:u.country}):e.jsx("span",{className:"text-slate-500 text-sm",children:"Checking..."})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:t("proxies.responseTime")}),u.responseTime?e.jsxs("span",{className:p("font-mono text-sm",u.responseTime<1e3?"text-green-400":u.responseTime<3e3?"text-yellow-400":"text-red-400"),children:[u.responseTime,t("proxies.ms")]}):e.jsx("span",{className:"text-slate-500",children:"-"})]})]}),e.jsx("div",{className:"pt-3 border-t border-slate-600",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:t("proxies.lastCheck")}),u.lastChecked?e.jsx("span",{className:"text-slate-500",children:new Date(u.lastChecked).toLocaleString("ru-RU")}):e.jsx("span",{className:"text-slate-500",children:"-"})]}),u.errorMessage&&e.jsxs("div",{className:"text-right max-w-[50%]",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:t("proxies.error")}),e.jsx("span",{className:"text-xs text-red-400 truncate block",title:u.errorMessageKey?t(u.errorMessageKey):u.errorMessage,children:u.errorMessageKey?t(u.errorMessageKey):u.errorMessage})]})]})})]},u.id||B))}),r.length===0&&e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Re,{className:"w-8 h-8 text-slate-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:t("proxies.notFound")}),e.jsx("p",{className:"text-slate-400",children:t("proxies.addToFile")})]})]})]})},Is=Ve.memo(({status:t})=>{var k,R,b,v,j;const{selectedWallets:s,clearSelection:r}=Ee(),{theme:n}=fe(),{t:a}=he(),[l,i]=w.useState(Date.now());w.useEffect(()=>{if(!t.isProcessing)return;const m=setInterval(()=>{i(Date.now())},5e3);return()=>clearInterval(m)},[t.isProcessing]);const d=()=>!t.processingProgress||t.processingProgress.total===0?0:Math.round(t.processingProgress.current/t.processingProgress.total*100),o=w.useMemo(()=>{var _;if(!((_=t.processingProgress)!=null&&_.estimatedFinish)||!t.isProcessing)return null;const E=new Date(t.processingProgress.estimatedFinish).getTime()-l;if(E<=0)return"finishing...";const P=Math.floor(E/6e4),S=Math.floor(E%6e4/1e3);return P>0?`~${P}m ${S}s`:`~${S}s`},[(k=t.processingProgress)==null?void 0:k.estimatedFinish,l,t.isProcessing]),y=w.useMemo(()=>{var _;if(!((_=t.processingProgress)!=null&&_.startTime)||!t.isProcessing)return null;const m=new Date(t.processingProgress.startTime),E=l-m.getTime(),P=Math.floor(E/6e4),S=Math.floor(E%6e4/1e3);return P>0?`${P}m ${S}s`:`${S}s`},[(R=t.processingProgress)==null?void 0:R.startTime,l,t.isProcessing]);return e.jsx("div",{className:p("border-b",n==="dark"?"bg-slate-800 border-slate-700":"bg-white border-gray-200"),children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2",children:e.jsx("div",{className:"flex items-center justify-between text-sm",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"w-4 h-4 text-slate-400"}),e.jsxs("span",{className:"text-slate-300",children:[t.walletsCount," ",a("status.wallets")]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Os,{className:"w-4 h-4 text-slate-400"}),e.jsxs("span",{className:"text-slate-300",children:[a("status.database"),": ",t.walletsInDatabase||0," ",a("status.wallets")," (",((b=t.database)==null?void 0:b.size)||`0 ${a("status.mb")}`,")",s.size>0&&e.jsxs("span",{className:"text-blue-400 ml-2 flex items-center space-x-1",children:[e.jsxs("span",{children:["• ",s.size," ",a("wallets.selected").toLowerCase()]}),e.jsx("button",{onClick:r,className:"ml-1 p-0.5 rounded text-blue-400 hover:text-red-400 hover:bg-red-900/20 transition-colors",title:a("wallets.deselectAll"),children:e.jsx(Me,{className:"w-3 h-3"})})]})]})]}),t.offlineMode&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qs,{className:"w-4 h-4 text-amber-400"}),e.jsx("span",{className:"text-amber-400 font-medium",children:"Offline Mode"})]}),t.isProcessing&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Cs,{className:"w-4 h-4 text-blue-400 animate-pulse"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-blue-400 font-medium",children:[a("status.processing")," ",a("status.wallets"),": ",((v=t.processingProgress)==null?void 0:v.current)||0,"/",((j=t.processingProgress)==null?void 0:j.total)||0]}),t.processingProgress&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-32 h-2 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-400 transition-all duration-300 ease-out",style:{width:`${d()}%`}})}),e.jsxs("span",{className:"text-blue-300 text-xs",children:[d(),"%"]})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs",children:[y&&e.jsxs("span",{className:"text-slate-400",children:["⏱️ ",y]}),o&&e.jsxs("span",{className:"text-blue-300",children:["⏳ ",o]})]})]})]})]})})})})});Is.displayName="StatusBar";const Va=({message:t,type:s,isVisible:r,onClose:n,autoHide:a=!0,autoHideDelay:l=5e3})=>{const[i,d]=w.useState(!1);w.useEffect(()=>{r&&d(!0)},[r]),w.useEffect(()=>{if(r&&a){const R=setTimeout(()=>{n()},l);return()=>clearTimeout(R)}},[r,a,l,n]);const o=()=>{r||d(!1)};if(!i)return null;const y=()=>{switch(s){case"success":return e.jsx(vt,{className:"w-5 h-5 text-green-400"});case"error":return e.jsx(jt,{className:"w-5 h-5 text-red-400"});case"info":return e.jsx(Bt,{className:"w-5 h-5 text-blue-400 animate-spin"});default:return e.jsx(jt,{className:"w-5 h-5 text-blue-400"})}},k=()=>{switch(s){case"success":return"bg-slate-800 border-green-500/20";case"error":return"bg-slate-800 border-red-500/20";case"info":return"bg-slate-800 border-blue-500/20";default:return"bg-slate-800 border-slate-600"}};return e.jsxs("div",{className:`fixed top-4 right-4 z-50 max-w-md transform transition-all duration-300 ease-in-out ${r?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}`,onAnimationEnd:o,children:[e.jsxs("div",{className:`${k()} border rounded-xl shadow-2xl backdrop-blur-sm p-4 min-w-[320px]`,children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:y()}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-slate-100 leading-relaxed",children:t})}),e.jsx("button",{onClick:n,className:"flex-shrink-0 text-slate-400 hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-slate-700/50",title:"Закрыть",children:e.jsx(Me,{className:"w-4 h-4"})})]}),s==="info"&&a&&e.jsx("div",{className:"mt-3 h-1 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{animation:`progressShrink ${l}ms linear forwards`}})})]}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @keyframes progressShrink {
            from { width: 100%; }
            to { width: 0%; }
          }
        `}})]})},Ls=w.createContext(void 0),Oe=()=>{const t=w.useContext(Ls);if(!t)throw new Error("useNotification must be used within a NotificationProvider");return t},Oa=({children:t})=>{const[s,r]=w.useState([]),{t:n}=he(),a=(d,o,y=!0,k=5e3)=>{const b={id:Date.now().toString(),message:d,type:o,autoHide:y,autoHideDelay:k};r(v=>[b,...v].slice(0,3))},l=(d,o,y,k,R=!0,b=5e3)=>{const j={id:Date.now().toString(),message:o,messageKey:d,params:k,type:y,autoHide:R,autoHideDelay:b};r(m=>[j,...m].slice(0,3))},i=d=>{r(o=>o.filter(y=>y.id!==d))};return e.jsxs(Ls.Provider,{value:{showNotification:a,showNotificationWithKey:l,hideNotification:i},children:[t,e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:s.map((d,o)=>e.jsx("div",{style:{transform:`translateY(${o*4}px)`,zIndex:1e3-o},children:e.jsx(Va,{message:d.messageKey?n(d.messageKey,d.params):d.message,type:d.type,isVisible:!0,onClose:()=>i(d.id),autoHide:d.autoHide,autoHideDelay:d.autoHideDelay})},d.id))})]})},js=()=>{const{selectedWallets:t,tempSelectedWallets:s,saveChanges:r}=Ee(),{showNotification:n}=Oe(),{t:a}=he(),[l,i]=w.useState(!1),[d,o]=w.useState(!1);w.useEffect(()=>{let k=!0;const R=async()=>{try{const v=await J.getStatus();if(!k)return;o(!!(v!=null&&v.isProcessing))}catch{}};R();const b=setInterval(R,3e3);return()=>{k=!1,clearInterval(b)}},[]);const y=async()=>{var R,b;const k=s.size>0?s:t;if(k.size===0){n(a("notification.noWalletsSelected"),"error");return}if(!l){if(d){n(a("notification.serverBusy"),"error");return}try{const v=await J.getStatus();if(v!=null&&v.isProcessing){n(a("notification.serverBusy"),"error");return}s.size>0&&r(),i(!0);const j=Array.from(k);console.log("RefreshButton: API call with wallets:",j);const m=await J.refreshWallets(j);console.log("RefreshButton: API response:",m),n(a("notification.refreshStarted").replace("{count}",j.length.toString()),"info",!0,1e4)}catch(v){console.error("Error refreshing wallets:",v);const j=v,m=((b=(R=j==null?void 0:j.response)==null?void 0:R.data)==null?void 0:b.error)||(j==null?void 0:j.message)||"Unknown error";n(a("notification.refreshError").replace("{error}",m),"error")}finally{i(!1)}}};return e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:y,disabled:l||d||s.size===0&&t.size===0,className:`flex items-center space-x-2 px-3 py-2 rounded-lg font-medium text-sm transition-colors h-9 ${s.size===0&&t.size===0?"bg-gray-300 text-gray-500 cursor-not-allowed dark:bg-slate-600 dark:text-slate-400":l?"bg-yellow-500 text-white cursor-wait dark:bg-yellow-600 dark:text-white":d?"bg-gray-300 text-gray-500 cursor-not-allowed dark:bg-slate-600 dark:text-slate-400":"bg-blue-500 text-white hover:bg-blue-600 dark:bg-blue-600 dark:text-white dark:hover:bg-blue-700"}`,title:s.size===0&&t.size===0?a("refresh.selectWallets"):d?a("refresh.serverBusy"):a("refresh.updateSelected").replace("{count}",(s.size||t.size).toString()),children:[e.jsx(Bt,{className:`w-4 h-4 ${l?"animate-spin":""}`}),e.jsx("span",{children:a(l?"refresh.updating":d?"refresh.busy":"refresh.update")})]})})},ys=()=>{const{t}=he(),{showNotificationWithKey:s}=Oe(),[r,n]=w.useState(!1),a=async()=>{if(!r)try{n(!0);const l=await J.reloadFromFiles();if(l!=null&&l.messageKey){const i=l.count?{count:l.count}:void 0;s(l.messageKey,l.message||"Done","success",i)}else s("notification.filesReloaded",(l==null?void 0:l.message)||"Done","success")}catch(l){console.error(l),s("common.error","Error loading new wallets/proxies","error")}finally{n(!1)}};return e.jsxs("button",{onClick:a,disabled:r,className:`flex items-center space-x-2 px-3 py-2 rounded-lg font-medium text-sm transition-colors h-9 ${r?"bg-slate-700 text-slate-400 cursor-wait":"bg-emerald-600 text-white hover:bg-emerald-700"}`,title:t("loadNew.title"),children:[e.jsx(Rt,{className:`w-4 h-4 ${r?"animate-spin":""}`}),e.jsx("span",{children:t(r?"loadNew.loading":"loadNew.loadNew")})]})},qa=()=>{const{theme:t,toggleTheme:s}=fe(),{t:r}=he();return e.jsx("button",{onClick:s,className:p("p-2 rounded-lg border transition-colors duration-200 h-9 w-9 flex items-center justify-center",t==="dark"?"bg-slate-700 border-slate-600 text-slate-300 hover:bg-slate-600 hover:text-slate-200":"bg-gray-50 border-gray-300 text-gray-600 hover:bg-gray-100 hover:text-gray-700"),title:r(t==="dark"?"theme.switchToLight":"theme.switchToDark"),children:t==="dark"?e.jsx($s,{className:"w-5 h-5"}):e.jsx(Ks,{className:"w-5 h-5"})})},$a=({isOpen:t,onClose:s})=>{const{showNotification:r,showNotificationWithKey:n}=Oe(),{t:a}=he(),[l,i]=w.useState(!1),[d,o]=w.useState(()=>{const b=localStorage.getItem("tierRanges");if(b)try{return JSON.parse(b)}catch(v){console.error("Error parsing saved tier ranges:",v)}return{tier1:{from:0,to:0},tier2:{from:0,to:0},tier3:{from:0,to:0}}}),y=(b,v,j)=>{const m=parseInt(j)||0,E={...d,[b]:{...d[b],[v]:m}};o(E),localStorage.setItem("tierRanges",JSON.stringify(E))},k=()=>{const b=Object.values(d);for(const j of b)if(j.from>j.to)return a("tiers.validationFromTo");const v=[{name:a("tiers.tier1"),...d.tier1},{name:a("tiers.tier2"),...d.tier2},{name:a("tiers.tier3"),...d.tier3}].sort((j,m)=>j.from-m.from);for(let j=0;j<v.length-1;j++)if(v[j].to>=v[j+1].from)return a("tiers.validationOverlap",{tier1:v[j].name,tier2:v[j+1].name});return null},R=async()=>{const b=k();if(b){r(b,"error");return}i(!0);try{const v=await fetch("/api/assign-tiers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!v.ok)throw new Error(a("tiers.errorAssigning"));const j=await v.json();if(j.messageKey){const m=j.count?{count:j.count}:void 0;n(j.messageKey,j.message||a("tiers.successMessage",{count:j.updated}),"success",m)}else r(a("tiers.successMessage",{count:j.updated}),"success");s()}catch(v){console.error("Ошибка назначения тиров:",v),r(a("tiers.errorAssigning"),"error")}finally{i(!1)}};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:s,children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-md w-full border border-slate-200 dark:border-slate-700",onClick:b=>b.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ze,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:a("tiers.title")})]}),e.jsx("button",{onClick:s,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors",children:e.jsx(Me,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Hs,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:a("tiers.description")})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:["🥇 ",a("tiers.tier1")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",placeholder:a("tiers.from"),value:d.tier1.from,onChange:b=>y("tier1","from",b.target.value),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm focus:ring-blue-500 focus:border-blue-500"}),e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"—"}),e.jsx("input",{type:"number",placeholder:a("tiers.to"),value:d.tier1.to,onChange:b=>y("tier1","to",b.target.value),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:["🥈 ",a("tiers.tier2")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",placeholder:a("tiers.from"),value:d.tier2.from,onChange:b=>y("tier2","from",b.target.value),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm focus:ring-blue-500 focus:border-blue-500"}),e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"—"}),e.jsx("input",{type:"number",placeholder:a("tiers.to"),value:d.tier2.to,onChange:b=>y("tier2","to",b.target.value),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:["🥉 ",a("tiers.tier3")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",placeholder:a("tiers.from"),value:d.tier3.from,onChange:b=>y("tier3","from",b.target.value),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm focus:ring-blue-500 focus:border-blue-500"}),e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"—"}),e.jsx("input",{type:"number",placeholder:a("tiers.to"),value:d.tier3.to,onChange:b=>y("tier3","to",b.target.value),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsx("button",{onClick:s,disabled:l,className:"px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:a("tiers.cancel")}),e.jsx("button",{onClick:R,disabled:l,className:"px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a("tiers.applying")]}):a("tiers.apply")})]})]})}):null},Ka=()=>{const[t,s]=w.useState("overview"),[r,n]=w.useState(null),[a,l]=w.useState(!0),[i,d]=w.useState(null),[o,y]=w.useState(!1),[k,R]=w.useState(()=>localStorage.getItem("autoRefreshEnabled")==="true"),[b,v]=w.useState(!1),[j,m]=w.useState(""),[E,P]=w.useState(!1),{theme:S}=fe(),{showNotification:_}=Oe(),{language:L,setLanguage:q,t:N}=he();w.useEffect(()=>{(async()=>{try{const $=await J.getStatus();n($),d(null)}catch($){d(N("status.connectionError")),n({status:"offline",walletsCount:0,processedWalletsCount:0,walletsInDatabase:0,isProcessing:!1,database:{total:0,lastFetch:"Unknown",size:"0 MB"},offlineMode:!0,proxyStatus:{currentProxy:"None",working:0,failed:0,checking:!1}}),console.error("Error fetching status:",$)}finally{l(!1)}})();let F;const A=()=>{F=setInterval(async()=>{try{const $=await J.getStatus();n($),d(null),$.isProcessing!==(r==null?void 0:r.isProcessing)&&(clearInterval(F),A())}catch($){d(N("status.connectionError")),console.error("Error fetching status:",$)}},r!=null&&r.isProcessing?3e3:15e3)};return A(),()=>clearInterval(F)},[]),w.useEffect(()=>{if(!k)return;const F=setInterval(async()=>{if(!k){console.log("Auto-refresh disabled, skipping wallet update");return}try{const $=(await J.getWallets()).wallets||[],Z=new Date().getTime(),ie=1440*60*1e3,ee=$.filter(ce=>{if(!ce.lastUpdated)return!0;const te=new Date(ce.lastUpdated).getTime();return Z-te>ie});if(ee.length>0&&!(r!=null&&r.isProcessing)){const te=ee.sort((le,oe)=>{const me=le.lastUpdated?new Date(le.lastUpdated).getTime():0,se=oe.lastUpdated?new Date(oe.lastUpdated).getTime():0;return me-se})[0],de=te.lastUpdated?`last updated ${Math.round((Z-new Date(te.lastUpdated).getTime())/(3600*1e3))}h ago`:"never updated";console.log(`Auto-refresh: updating oldest wallet ${te.address} (${de})`),await J.refreshWallets([te.address]),_(`${N("notification.autoRefreshWallet")} ${te.address.slice(0,6)}...`,"info")}}catch(A){console.error("Auto-refresh error:",A)}},6e4);return()=>{console.log("Clearing auto-refresh interval"),clearInterval(F)}},[k,r==null?void 0:r.isProcessing,_,N]);const U=()=>{const I=!k;R(I),localStorage.setItem("autoRefreshEnabled",I.toString()),_(`${N("notification.autoRefresh"+(I?"Enabled":"Disabled"))}`,"info")},u="0x47d65daa4a24b60262eb3de244f934d535776f22",B=()=>{navigator.clipboard.writeText(u),_(N("notification.addressCopied"),"success")};w.useEffect(()=>{b&&!j&&(async()=>{try{const F=`ethereum:${u}`,A=await fs.toDataURL(F,{width:192,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});m(A)}catch(F){console.error("Error generating QR code:",F);try{const A=await fs.toDataURL(u,{width:192,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});m(A)}catch(A){console.error("Fallback QR generation failed:",A)}}})()},[b,u,j]);const O=[{id:"overview",label:N("nav.overview"),icon:Js},{id:"wallets",label:N("nav.wallets"),icon:Se},{id:"tokens",label:N("nav.tokens"),icon:Ys},{id:"protocols",label:N("nav.protocols"),icon:Gs}],V=()=>{switch(t){case"overview":return e.jsx(ft,{});case"wallets":return e.jsx(La,{status:r});case"tokens":return e.jsx(Wa,{});case"protocols":return e.jsx(za,{});case"proxies":return e.jsx(Ua,{});case"debug":return e.jsx(ft,{});default:return e.jsx(ft,{})}};return a?e.jsx("div",{className:p("min-h-screen flex items-center justify-center",S==="dark"?"bg-gradient-to-br from-slate-900 to-slate-800":"bg-gradient-to-br from-gray-50 to-gray-100"),children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),e.jsx("p",{className:S==="dark"?"text-slate-300":"text-gray-600",children:N("header.loading")})]})}):e.jsxs("div",{className:p("min-h-screen",S==="dark"?"bg-gradient-to-br from-slate-900 to-slate-800":"bg-gradient-to-br from-gray-50 to-gray-100"),children:[e.jsxs("header",{className:p("shadow-lg border-b",S==="dark"?"bg-slate-800 border-slate-700":"bg-gray-50 border-gray-200"),children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"EVM"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:p("text-xl font-bold leading-tight",S==="dark"?"text-slate-100":"text-gray-900"),children:N("header.title")}),r&&e.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[r.status==="running"?e.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"}):e.jsx("div",{className:"w-1.5 h-1.5 bg-red-400 rounded-full"}),e.jsx("span",{className:p("text-xs font-medium",r.status==="running"?"text-green-400":"text-red-400"),children:r.status==="running"?N("header.online"):N("header.offline")})]})]})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>y(!0),className:p("flex items-center space-x-2 px-3 py-2 rounded-lg font-medium text-sm transition-colors h-9",S==="dark"?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-slate-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-gray-700"),title:N("header.assignTiers"),children:[e.jsx(ze,{className:"w-4 h-4"}),e.jsx("span",{children:N("header.assignTiers")})]}),e.jsxs("button",{onClick:U,className:p("flex items-center space-x-2 px-3 py-2 rounded-lg font-medium text-sm transition-colors h-9",k?"bg-green-600 text-white hover:bg-green-700":S==="dark"?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-slate-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-gray-700"),title:N(k?"header.autoRefreshEnabled":"header.autoRefreshDisabled"),children:[e.jsx(Ft,{className:p("w-4 h-4",k&&"animate-spin")}),e.jsx("span",{children:N("header.autoRefresh")})]}),e.jsxs("button",{onClick:async()=>{var I,F;try{console.log("Checking proxies..."),s("proxies"),await J.checkProxies(),console.log("Proxies check completed")}catch(A){console.error("Error checking proxies:",A);const $=((F=(I=A==null?void 0:A.response)==null?void 0:I.data)==null?void 0:F.error)||(A==null?void 0:A.message)||N("errors.unknown");_(N("errors.proxyCheck")+$,"error")}},className:p("flex items-center space-x-2 px-3 py-2 rounded-lg font-medium text-sm transition-colors h-9",S==="dark"?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-slate-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-gray-700"),title:N("header.checkProxies"),children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:N("header.checkProxies")})]}),e.jsx(js,{}),e.jsx(ys,{}),e.jsx("a",{href:"https://t.me/IdeaMint",target:"_blank",rel:"noopener noreferrer",className:p("flex items-center justify-center p-2 rounded-lg transition-colors h-9 w-9",S==="dark"?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-slate-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-gray-700"),title:N("header.telegramTitle"),children:e.jsx(Wt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v(!0),className:p("flex items-center justify-center p-2 rounded-lg transition-colors h-9 w-9",S==="dark"?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-slate-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-gray-700"),title:N("header.donateTitle"),children:e.jsx($e,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>q(L==="ru"?"en":"ru"),className:p("px-2 py-1 rounded-lg border transition-colors duration-200 h-9 flex items-center justify-center",S==="dark"?"bg-slate-700 border-slate-600 text-slate-300 hover:bg-slate-600 hover:text-slate-200":"bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200 hover:text-gray-800"),title:L==="ru"?"Switch to English":"Переключить на русский",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Xs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:L.toUpperCase()})]})}),e.jsx(qa,{}),e.jsx("button",{onClick:()=>P(!E),className:p("lg:hidden p-2 rounded-lg transition-colors h-9 w-9 flex items-center justify-center",S==="dark"?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-slate-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-gray-700"),children:E?e.jsx(Me,{className:"w-5 h-5"}):e.jsx(Qs,{className:"w-5 h-5"})})]})]})}),E&&e.jsx("div",{className:p("lg:hidden border-t",S==="dark"?"border-slate-700 bg-slate-800":"border-gray-200 bg-gray-50"),children:e.jsxs("div",{className:"px-4 py-3 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:()=>{y(!0),P(!1)},className:p("flex items-center space-x-2 px-3 py-2 rounded-lg font-medium text-sm transition-colors justify-center",S==="dark"?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-slate-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-gray-700"),children:[e.jsx(ze,{className:"w-4 h-4"}),e.jsx("span",{children:N("header.assignTiers")})]}),e.jsxs("button",{onClick:()=>{U(),P(!1)},className:p("flex items-center space-x-2 px-3 py-2 rounded-lg font-medium text-sm transition-colors justify-center",k?"bg-green-600 text-white hover:bg-green-700":S==="dark"?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-slate-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-gray-700"),children:[e.jsx(Ft,{className:p("w-4 h-4",k&&"animate-spin")}),e.jsx("span",{children:N("header.autoRefresh")})]}),e.jsxs("button",{onClick:async()=>{var I,F;try{s("proxies"),await J.checkProxies(),P(!1)}catch(A){console.error("Error checking proxies:",A);const $=((F=(I=A==null?void 0:A.response)==null?void 0:I.data)==null?void 0:F.error)||(A==null?void 0:A.message)||N("errors.unknown");_(N("errors.proxyCheck")+$,"error")}},className:p("flex items-center space-x-2 px-3 py-2 rounded-lg font-medium text-sm transition-colors justify-center",S==="dark"?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-slate-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-gray-700"),children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{children:N("header.checkProxies")})]}),e.jsxs("button",{onClick:()=>{v(!0),P(!1)},className:p("flex items-center space-x-2 px-3 py-2 rounded-lg font-medium text-sm transition-colors justify-center",S==="dark"?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-slate-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-gray-700"),children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{children:N("header.donate")})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(js,{}),e.jsx(ys,{}),e.jsx("a",{href:"https://t.me/IdeaMint",target:"_blank",rel:"noopener noreferrer",className:p("flex items-center justify-center p-2 rounded-lg transition-colors h-9 w-9",S==="dark"?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-slate-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-gray-700"),title:N("header.telegramTitle"),children:e.jsx(Wt,{className:"w-4 h-4"})})]})]})})]}),e.jsx("nav",{className:p("border-b",S==="dark"?"bg-slate-800 border-slate-700":"bg-gray-50 border-gray-200"),children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex space-x-4 lg:space-x-8 overflow-x-auto",children:O.map(I=>{const F=I.icon;return e.jsxs("button",{onClick:()=>{s(I.id),P(!1)},className:p("flex items-center space-x-2 py-4 px-2 lg:px-1 font-medium text-sm transition-colors whitespace-nowrap",t===I.id?"text-blue-400":S==="dark"?"text-slate-400 hover:text-slate-300":"text-gray-500 hover:text-gray-700"),children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:I.label})]},I.id)})})})}),r&&e.jsx(Is,{status:r}),i&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4",children:e.jsx("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"!"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-300",children:i})})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:V()}),e.jsx($a,{isOpen:o,onClose:()=>y(!1)}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>v(!1),children:e.jsxs("div",{className:p("relative rounded-xl shadow-lg max-w-md w-full p-6",S==="dark"?"bg-slate-800":"bg-gray-50"),onClick:I=>I.stopPropagation(),children:[e.jsx("button",{onClick:()=>v(!1),className:p("absolute top-4 right-4 p-1 rounded-lg transition-colors",S==="dark"?"hover:bg-slate-700":"hover:bg-gray-100"),children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"text-center",children:[e.jsx($e,{className:"w-12 h-12 text-pink-500 mx-auto mb-4"}),e.jsx("h3",{className:p("text-xl font-bold mb-2",S==="dark"?"text-white":"text-gray-900"),children:N("donate.title")}),e.jsx("p",{className:p("text-sm mb-6",S==="dark"?"text-slate-300":"text-gray-600"),children:N("donate.description")}),e.jsx("div",{className:"w-48 h-48 mx-auto mb-4 border border-gray-300 rounded-lg overflow-hidden flex items-center justify-center",children:j?e.jsx("img",{src:j,alt:N("donate.qrCode"),className:"w-full h-full object-contain"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}),e.jsxs("div",{className:p("p-3 rounded-lg mb-4",S==="dark"?"bg-slate-700":"bg-gray-100"),children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:N("donate.walletAddress")}),e.jsx("p",{className:p("font-mono text-sm break-all",S==="dark"?"text-white":"text-gray-900"),children:u})]}),e.jsxs("button",{onClick:B,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{children:N("donate.copyAddress")})]}),e.jsxs("p",{className:p("text-xs mt-4",S==="dark"?"text-slate-400":"text-gray-500"),children:[N("donate.thankYou"),e.jsx("br",{}),e.jsx("span",{className:"font-medium",children:"vlgalib"})]})]})]})})]})},Ha=()=>e.jsx(Ma,{children:e.jsx(Oa,{children:e.jsx(Ra,{children:e.jsx(Ka,{})})})}),Ja=()=>e.jsx(Ia,{children:e.jsx(Ha,{})}),Ya=ra.createRoot(document.getElementById("root"));Ya.render(e.jsx(Ve.StrictMode,{children:e.jsx(Ja,{})}));
